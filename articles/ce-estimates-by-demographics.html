<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="cepumd">
<title>CE Estimates by Demographic Category • cepumd</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="CE Estimates by Demographic Category">
<meta property="og:description" content="cepumd">
<meta property="og:image" content="https://arcenis-r.github.io/cepumd/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cepumd</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/simple-cepumd-workflow.html">Simple cepumd Workflow</a>
    <a class="dropdown-item" href="../articles/ce-estimates-by-demographics.html">CE Estimates by Demographic Category</a>
    <a class="dropdown-item" href="../articles/inflation-adjusted-estimates.html">Calcluating Inflation-Adjusted CE Estimates</a>
    <a class="dropdown-item" href="../articles/inconsistent-code-definitions.html">Accounting for Inconsistent Code Definitions in CE PUMD</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://linkedin.com/in/arcenisrojas" aria-label="LinkedIn">
    <span class="fa fa-linkedin"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/arcenis-r/cepumd/" aria-label="GitHub">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>CE Estimates by Demographic Category</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/arcenis-r/cepumd/blob/HEAD/vignettes/articles/ce-estimates-by-demographics.Rmd" class="external-link"><code>vignettes/articles/ce-estimates-by-demographics.Rmd</code></a></small>
      <div class="d-none name"><code>ce-estimates-by-demographics.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://arcenis-r.github.io/cepumd/">cepumd</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com" class="external-link">gt</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h3>
<p>The below example shows how one can use <code>cepumd</code> to
generate annual, weighted expenditure means and quantiles for the
different categories of a grouping variable. This example will focus on
getting these estimates for used cars and trucks using 2021 Interview
data since reports of vehicle purchases are only taken from the
Interview survey. It’s also useful to show how to calculate weighted
quantiles of expenditures since this is only statistically valid when
using a single survey instrument.</p>
<p>I’ll need the following data and metadata sources:</p>
<ul>
<li>Interview survey data zip files for 2020 and 2021</li>
<li>Hierarchical grouping zip files</li>
<li>CE Data Dictionary</li>
</ul>
</div>
<div class="section level3">
<h3 id="data-gathering">Data gathering<a class="anchor" aria-label="anchor" href="#data-gathering"></a>
</h3>
<p>Data files can be downloaded from the <a href="https://www.bls.gov/cex/pumd_data.htm#csv" class="external-link">CE PUMD Data Files
page</a> (it’s easiest to use CSV) and hierarchical grouping files can
be downloaded from the <a href="https://www.bls.gov/cex/pumd_doc.htm" class="external-link">CE
PUMD Documentation page</a></p>
<p>To get the files I’ll first create a temporary directory and download
all of the files that I need from the BLS website into this directory.
You might choose to store your files differently, but this convention
will keep the files organized, it will keep the code simple, and
everything will be in a folder that will be easy to clean up after.
Since the BLS blocks third party applications I’ll add a user-agent to
identify myself in the download function that is stored in a variable
called <code>cepumd_ua</code> (not shown).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ce_data_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.bls.gov/cex/pumd/data/comma/intrvw21.zip"</span>,</span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"intrvw21.zip"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"wb"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"User-Agent"</span> <span class="op">=</span> <span class="va">cepumd_ua</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.bls.gov/cex/pumd/data/comma/intrvw20.zip"</span>,</span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"intrvw20.zip"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"wb"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"User-Agent"</span> <span class="op">=</span> <span class="va">cepumd_ua</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.bls.gov/cex/pumd/stubs.zip"</span>,</span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"stubs.zip"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"wb"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"User-Agent"</span> <span class="op">=</span> <span class="va">cepumd_ua</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.bls.gov/cex/pumd/ce-pumd-interview-diary-dictionary.xlsx"</span>,</span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"ce-data-dict.xlsx"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"wb"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"User-Agent"</span> <span class="op">=</span> <span class="va">cepumd_ua</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="calculate-ce-weighted-mean-estimate-by-urbanicity">Calculate CE weighted mean estimate by urbanicity<a class="anchor" aria-label="anchor" href="#calculate-ce-weighted-mean-estimate-by-urbanicity"></a>
</h3>
<p>Now that I have the files I’ll start the analysis. First I’ll load
the hierarchical grouping file and filter it for categories of used cars
or used trucks.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">int21_hg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ce_hg.html">ce_hg</a></span><span class="op">(</span></span>
<span>  <span class="fl">2021</span>,</span>
<span>  <span class="va">interview</span>,</span>
<span>  hg_zip_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"stubs.zip"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">int21_hg</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">title</span>, <span class="st">"Used (cars|trucks)"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="idrwtrqapb" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#idrwtrqapb table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#idrwtrqapb thead, #idrwtrqapb tbody, #idrwtrqapb tfoot, #idrwtrqapb tr, #idrwtrqapb td, #idrwtrqapb th {
  border-style: none;
}

#idrwtrqapb p {
  margin: 0;
  padding: 0;
}

#idrwtrqapb .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#idrwtrqapb .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#idrwtrqapb .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#idrwtrqapb .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#idrwtrqapb .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#idrwtrqapb .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#idrwtrqapb .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#idrwtrqapb .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#idrwtrqapb .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#idrwtrqapb .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#idrwtrqapb .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#idrwtrqapb .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#idrwtrqapb .gt_spanner_row {
  border-bottom-style: hidden;
}

#idrwtrqapb .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#idrwtrqapb .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#idrwtrqapb .gt_from_md > :first-child {
  margin-top: 0;
}

#idrwtrqapb .gt_from_md > :last-child {
  margin-bottom: 0;
}

#idrwtrqapb .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#idrwtrqapb .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#idrwtrqapb .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#idrwtrqapb .gt_row_group_first td {
  border-top-width: 2px;
}

#idrwtrqapb .gt_row_group_first th {
  border-top-width: 2px;
}

#idrwtrqapb .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#idrwtrqapb .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#idrwtrqapb .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#idrwtrqapb .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#idrwtrqapb .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#idrwtrqapb .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#idrwtrqapb .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#idrwtrqapb .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#idrwtrqapb .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#idrwtrqapb .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#idrwtrqapb .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#idrwtrqapb .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#idrwtrqapb .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#idrwtrqapb .gt_left {
  text-align: left;
}

#idrwtrqapb .gt_center {
  text-align: center;
}

#idrwtrqapb .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#idrwtrqapb .gt_font_normal {
  font-weight: normal;
}

#idrwtrqapb .gt_font_bold {
  font-weight: bold;
}

#idrwtrqapb .gt_font_italic {
  font-style: italic;
}

#idrwtrqapb .gt_super {
  font-size: 65%;
}

#idrwtrqapb .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#idrwtrqapb .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#idrwtrqapb .gt_indent_1 {
  text-indent: 5px;
}

#idrwtrqapb .gt_indent_2 {
  text-indent: 10px;
}

#idrwtrqapb .gt_indent_3 {
  text-indent: 15px;
}

#idrwtrqapb .gt_indent_4 {
  text-indent: 20px;
}

#idrwtrqapb .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="level">level</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="title">title</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="ucc">ucc</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="survey">survey</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="factor">factor</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="level" class="gt_row gt_right">5</td>
<td headers="title" class="gt_row gt_left">Used cars</td>
<td headers="ucc" class="gt_row gt_right">460110</td>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">5</td>
<td headers="title" class="gt_row gt_left">Used trucks</td>
<td headers="ucc" class="gt_row gt_right">460901</td>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
</tbody>
</table>
</div>
<p>These are the UCCs for “Used cars and trucks. I’ll use the code above
to set the <code>uccs</code> argument in <code><a href="../reference/ce_prepdata.html">ce_prepdata()</a></code>.
I’ll also include the <code>bls_urbn</code> variable in the
<code>...</code> argument to get estimates by urbanicity.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">car_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ce_prepdata.html">ce_prepdata</a></span><span class="op">(</span></span>
<span>  <span class="fl">2021</span>,</span>
<span>  <span class="va">interview</span>,</span>
<span>  <span class="va">int21_hg</span>,</span>
<span>  uccs <span class="op">=</span> <span class="va">int21_hg</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">title</span>, <span class="st">"Used (cars|trucks)"</span><span class="op">)</span>, <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">ucc</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">ucc</span><span class="op">)</span>,</span>
<span>  <span class="va">bls_urbn</span>,  <span class="co"># &lt;------- this is the variable for urbanicity</span></span>
<span>  int_zp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"intrvw20.zip"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"intrvw21.zip"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  recode_variables <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  dict_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"ce-data-dict.xlsx"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">car_data</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div id="qjldlaxynf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qjldlaxynf table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qjldlaxynf thead, #qjldlaxynf tbody, #qjldlaxynf tfoot, #qjldlaxynf tr, #qjldlaxynf td, #qjldlaxynf th {
  border-style: none;
}

#qjldlaxynf p {
  margin: 0;
  padding: 0;
}

#qjldlaxynf .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qjldlaxynf .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qjldlaxynf .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qjldlaxynf .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qjldlaxynf .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qjldlaxynf .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qjldlaxynf .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qjldlaxynf .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qjldlaxynf .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qjldlaxynf .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qjldlaxynf .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qjldlaxynf .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qjldlaxynf .gt_spanner_row {
  border-bottom-style: hidden;
}

#qjldlaxynf .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qjldlaxynf .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qjldlaxynf .gt_from_md > :first-child {
  margin-top: 0;
}

#qjldlaxynf .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qjldlaxynf .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qjldlaxynf .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qjldlaxynf .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qjldlaxynf .gt_row_group_first td {
  border-top-width: 2px;
}

#qjldlaxynf .gt_row_group_first th {
  border-top-width: 2px;
}

#qjldlaxynf .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qjldlaxynf .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qjldlaxynf .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qjldlaxynf .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qjldlaxynf .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qjldlaxynf .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qjldlaxynf .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#qjldlaxynf .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qjldlaxynf .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qjldlaxynf .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qjldlaxynf .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qjldlaxynf .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qjldlaxynf .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qjldlaxynf .gt_left {
  text-align: left;
}

#qjldlaxynf .gt_center {
  text-align: center;
}

#qjldlaxynf .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qjldlaxynf .gt_font_normal {
  font-weight: normal;
}

#qjldlaxynf .gt_font_bold {
  font-weight: bold;
}

#qjldlaxynf .gt_font_italic {
  font-style: italic;
}

#qjldlaxynf .gt_super {
  font-size: 65%;
}

#qjldlaxynf .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qjldlaxynf .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qjldlaxynf .gt_indent_1 {
  text-indent: 5px;
}

#qjldlaxynf .gt_indent_2 {
  text-indent: 10px;
}

#qjldlaxynf .gt_indent_3 {
  text-indent: 15px;
}

#qjldlaxynf .gt_indent_4 {
  text-indent: 20px;
}

#qjldlaxynf .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="newid">newid</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="finlwt21">finlwt21</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep01">wtrep01</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep02">wtrep02</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep03">wtrep03</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep04">wtrep04</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep05">wtrep05</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep06">wtrep06</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep07">wtrep07</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep08">wtrep08</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep09">wtrep09</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep10">wtrep10</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep11">wtrep11</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep12">wtrep12</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep13">wtrep13</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep14">wtrep14</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep15">wtrep15</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep16">wtrep16</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep17">wtrep17</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep18">wtrep18</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep19">wtrep19</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep20">wtrep20</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep21">wtrep21</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep22">wtrep22</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep23">wtrep23</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep24">wtrep24</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep25">wtrep25</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep26">wtrep26</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep27">wtrep27</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep28">wtrep28</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep29">wtrep29</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep30">wtrep30</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep31">wtrep31</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep32">wtrep32</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep33">wtrep33</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep34">wtrep34</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep35">wtrep35</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep36">wtrep36</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep37">wtrep37</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep38">wtrep38</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep39">wtrep39</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep40">wtrep40</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep41">wtrep41</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep42">wtrep42</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep43">wtrep43</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="wtrep44">wtrep44</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="bls_urbn">bls_urbn</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mo_scope">mo_scope</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="popwt">popwt</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="ucc">ucc</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="ref_yr">ref_yr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="ref_mo">ref_mo</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="cost">cost</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="survey">survey</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="newid" class="gt_row gt_right">04378034</td>
<td headers="finlwt21" class="gt_row gt_right">15009.70</td>
<td headers="wtrep01" class="gt_row gt_right">26582.38</td>
<td headers="wtrep02" class="gt_row gt_right">30220.87</td>
<td headers="wtrep03" class="gt_row gt_right">28559.33</td>
<td headers="wtrep04" class="gt_row gt_right">0.00</td>
<td headers="wtrep05" class="gt_row gt_right">28263.97</td>
<td headers="wtrep06" class="gt_row gt_right">0.00</td>
<td headers="wtrep07" class="gt_row gt_right">26801.74</td>
<td headers="wtrep08" class="gt_row gt_right">30392.73</td>
<td headers="wtrep09" class="gt_row gt_right">0.00</td>
<td headers="wtrep10" class="gt_row gt_right">0.00</td>
<td headers="wtrep11" class="gt_row gt_right">35877.18</td>
<td headers="wtrep12" class="gt_row gt_right">0.00</td>
<td headers="wtrep13" class="gt_row gt_right">0.00</td>
<td headers="wtrep14" class="gt_row gt_right">31583.15</td>
<td headers="wtrep15" class="gt_row gt_right">0.00</td>
<td headers="wtrep16" class="gt_row gt_right">28192.04</td>
<td headers="wtrep17" class="gt_row gt_right">0.00</td>
<td headers="wtrep18" class="gt_row gt_right">0.00</td>
<td headers="wtrep19" class="gt_row gt_right">27742.65</td>
<td headers="wtrep20" class="gt_row gt_right">32402.03</td>
<td headers="wtrep21" class="gt_row gt_right">32193.33</td>
<td headers="wtrep22" class="gt_row gt_right">0.00</td>
<td headers="wtrep23" class="gt_row gt_right">33288.04</td>
<td headers="wtrep24" class="gt_row gt_right">33269.07</td>
<td headers="wtrep25" class="gt_row gt_right">28259.38</td>
<td headers="wtrep26" class="gt_row gt_right">31891.03</td>
<td headers="wtrep27" class="gt_row gt_right">32534.43</td>
<td headers="wtrep28" class="gt_row gt_right">0.00</td>
<td headers="wtrep29" class="gt_row gt_right">0.00</td>
<td headers="wtrep30" class="gt_row gt_right">0.00</td>
<td headers="wtrep31" class="gt_row gt_right">26770.84</td>
<td headers="wtrep32" class="gt_row gt_right">0.00</td>
<td headers="wtrep33" class="gt_row gt_right">24617.21</td>
<td headers="wtrep34" class="gt_row gt_right">31914.74</td>
<td headers="wtrep35" class="gt_row gt_right">31437.74</td>
<td headers="wtrep36" class="gt_row gt_right">0.00</td>
<td headers="wtrep37" class="gt_row gt_right">0.00</td>
<td headers="wtrep38" class="gt_row gt_right">0.00</td>
<td headers="wtrep39" class="gt_row gt_right">0.00</td>
<td headers="wtrep40" class="gt_row gt_right">0.00</td>
<td headers="wtrep41" class="gt_row gt_right">33248.90</td>
<td headers="wtrep42" class="gt_row gt_right">0.00</td>
<td headers="wtrep43" class="gt_row gt_right">0.00</td>
<td headers="wtrep44" class="gt_row gt_right">0.00</td>
<td headers="bls_urbn" class="gt_row gt_center">Urban</td>
<td headers="mo_scope" class="gt_row gt_right">0</td>
<td headers="popwt" class="gt_row gt_right">0</td>
<td headers="ucc" class="gt_row gt_left">NA</td>
<td headers="ref_yr" class="gt_row gt_right">NA</td>
<td headers="ref_mo" class="gt_row gt_right">NA</td>
<td headers="cost" class="gt_row gt_right">0</td>
<td headers="survey" class="gt_row gt_left">I</td>
</tr>
<tr>
<td headers="newid" class="gt_row gt_right">04378044</td>
<td headers="finlwt21" class="gt_row gt_right">14659.23</td>
<td headers="wtrep01" class="gt_row gt_right">0.00</td>
<td headers="wtrep02" class="gt_row gt_right">24636.01</td>
<td headers="wtrep03" class="gt_row gt_right">25415.50</td>
<td headers="wtrep04" class="gt_row gt_right">0.00</td>
<td headers="wtrep05" class="gt_row gt_right">29842.23</td>
<td headers="wtrep06" class="gt_row gt_right">26240.00</td>
<td headers="wtrep07" class="gt_row gt_right">31559.69</td>
<td headers="wtrep08" class="gt_row gt_right">0.00</td>
<td headers="wtrep09" class="gt_row gt_right">0.00</td>
<td headers="wtrep10" class="gt_row gt_right">32690.11</td>
<td headers="wtrep11" class="gt_row gt_right">0.00</td>
<td headers="wtrep12" class="gt_row gt_right">35219.62</td>
<td headers="wtrep13" class="gt_row gt_right">0.00</td>
<td headers="wtrep14" class="gt_row gt_right">0.00</td>
<td headers="wtrep15" class="gt_row gt_right">32209.17</td>
<td headers="wtrep16" class="gt_row gt_right">28073.98</td>
<td headers="wtrep17" class="gt_row gt_right">0.00</td>
<td headers="wtrep18" class="gt_row gt_right">30630.13</td>
<td headers="wtrep19" class="gt_row gt_right">28545.87</td>
<td headers="wtrep20" class="gt_row gt_right">0.00</td>
<td headers="wtrep21" class="gt_row gt_right">22419.07</td>
<td headers="wtrep22" class="gt_row gt_right">0.00</td>
<td headers="wtrep23" class="gt_row gt_right">29752.76</td>
<td headers="wtrep24" class="gt_row gt_right">35818.35</td>
<td headers="wtrep25" class="gt_row gt_right">0.00</td>
<td headers="wtrep26" class="gt_row gt_right">0.00</td>
<td headers="wtrep27" class="gt_row gt_right">0.00</td>
<td headers="wtrep28" class="gt_row gt_right">37168.17</td>
<td headers="wtrep29" class="gt_row gt_right">0.00</td>
<td headers="wtrep30" class="gt_row gt_right">0.00</td>
<td headers="wtrep31" class="gt_row gt_right">0.00</td>
<td headers="wtrep32" class="gt_row gt_right">0.00</td>
<td headers="wtrep33" class="gt_row gt_right">0.00</td>
<td headers="wtrep34" class="gt_row gt_right">32609.68</td>
<td headers="wtrep35" class="gt_row gt_right">28785.20</td>
<td headers="wtrep36" class="gt_row gt_right">32743.62</td>
<td headers="wtrep37" class="gt_row gt_right">0.00</td>
<td headers="wtrep38" class="gt_row gt_right">30564.90</td>
<td headers="wtrep39" class="gt_row gt_right">0.00</td>
<td headers="wtrep40" class="gt_row gt_right">0.00</td>
<td headers="wtrep41" class="gt_row gt_right">0.00</td>
<td headers="wtrep42" class="gt_row gt_right">33512.77</td>
<td headers="wtrep43" class="gt_row gt_right">26508.03</td>
<td headers="wtrep44" class="gt_row gt_right">28093.74</td>
<td headers="bls_urbn" class="gt_row gt_center">Urban</td>
<td headers="mo_scope" class="gt_row gt_right">0</td>
<td headers="popwt" class="gt_row gt_right">0</td>
<td headers="ucc" class="gt_row gt_left">NA</td>
<td headers="ref_yr" class="gt_row gt_right">NA</td>
<td headers="ref_mo" class="gt_row gt_right">NA</td>
<td headers="cost" class="gt_row gt_right">0</td>
<td headers="survey" class="gt_row gt_left">I</td>
</tr>
<tr>
<td headers="newid" class="gt_row gt_right">04378144</td>
<td headers="finlwt21" class="gt_row gt_right">13807.65</td>
<td headers="wtrep01" class="gt_row gt_right">0.00</td>
<td headers="wtrep02" class="gt_row gt_right">28979.32</td>
<td headers="wtrep03" class="gt_row gt_right">27083.40</td>
<td headers="wtrep04" class="gt_row gt_right">26693.86</td>
<td headers="wtrep05" class="gt_row gt_right">27992.45</td>
<td headers="wtrep06" class="gt_row gt_right">29585.03</td>
<td headers="wtrep07" class="gt_row gt_right">0.00</td>
<td headers="wtrep08" class="gt_row gt_right">29732.86</td>
<td headers="wtrep09" class="gt_row gt_right">29316.57</td>
<td headers="wtrep10" class="gt_row gt_right">27431.31</td>
<td headers="wtrep11" class="gt_row gt_right">0.00</td>
<td headers="wtrep12" class="gt_row gt_right">0.00</td>
<td headers="wtrep13" class="gt_row gt_right">28173.63</td>
<td headers="wtrep14" class="gt_row gt_right">0.00</td>
<td headers="wtrep15" class="gt_row gt_right">22879.56</td>
<td headers="wtrep16" class="gt_row gt_right">0.00</td>
<td headers="wtrep17" class="gt_row gt_right">0.00</td>
<td headers="wtrep18" class="gt_row gt_right">25564.56</td>
<td headers="wtrep19" class="gt_row gt_right">26377.60</td>
<td headers="wtrep20" class="gt_row gt_right">0.00</td>
<td headers="wtrep21" class="gt_row gt_right">26336.40</td>
<td headers="wtrep22" class="gt_row gt_right">27843.16</td>
<td headers="wtrep23" class="gt_row gt_right">0.00</td>
<td headers="wtrep24" class="gt_row gt_right">26624.50</td>
<td headers="wtrep25" class="gt_row gt_right">0.00</td>
<td headers="wtrep26" class="gt_row gt_right">26128.58</td>
<td headers="wtrep27" class="gt_row gt_right">27506.85</td>
<td headers="wtrep28" class="gt_row gt_right">0.00</td>
<td headers="wtrep29" class="gt_row gt_right">0.00</td>
<td headers="wtrep30" class="gt_row gt_right">0.00</td>
<td headers="wtrep31" class="gt_row gt_right">27602.16</td>
<td headers="wtrep32" class="gt_row gt_right">0.00</td>
<td headers="wtrep33" class="gt_row gt_right">0.00</td>
<td headers="wtrep34" class="gt_row gt_right">0.00</td>
<td headers="wtrep35" class="gt_row gt_right">0.00</td>
<td headers="wtrep36" class="gt_row gt_right">0.00</td>
<td headers="wtrep37" class="gt_row gt_right">28507.23</td>
<td headers="wtrep38" class="gt_row gt_right">31304.32</td>
<td headers="wtrep39" class="gt_row gt_right">25729.67</td>
<td headers="wtrep40" class="gt_row gt_right">0.00</td>
<td headers="wtrep41" class="gt_row gt_right">32459.95</td>
<td headers="wtrep42" class="gt_row gt_right">0.00</td>
<td headers="wtrep43" class="gt_row gt_right">0.00</td>
<td headers="wtrep44" class="gt_row gt_right">0.00</td>
<td headers="bls_urbn" class="gt_row gt_center">Urban</td>
<td headers="mo_scope" class="gt_row gt_right">0</td>
<td headers="popwt" class="gt_row gt_right">0</td>
<td headers="ucc" class="gt_row gt_left">NA</td>
<td headers="ref_yr" class="gt_row gt_right">NA</td>
<td headers="ref_mo" class="gt_row gt_right">NA</td>
<td headers="cost" class="gt_row gt_right">0</td>
<td headers="survey" class="gt_row gt_left">I</td>
</tr>
<tr>
<td headers="newid" class="gt_row gt_right">04378174</td>
<td headers="finlwt21" class="gt_row gt_right">34366.94</td>
<td headers="wtrep01" class="gt_row gt_right">0.00</td>
<td headers="wtrep02" class="gt_row gt_right">56197.54</td>
<td headers="wtrep03" class="gt_row gt_right">0.00</td>
<td headers="wtrep04" class="gt_row gt_right">68378.57</td>
<td headers="wtrep05" class="gt_row gt_right">0.00</td>
<td headers="wtrep06" class="gt_row gt_right">0.00</td>
<td headers="wtrep07" class="gt_row gt_right">64913.65</td>
<td headers="wtrep08" class="gt_row gt_right">51360.36</td>
<td headers="wtrep09" class="gt_row gt_right">0.00</td>
<td headers="wtrep10" class="gt_row gt_right">68007.76</td>
<td headers="wtrep11" class="gt_row gt_right">68969.61</td>
<td headers="wtrep12" class="gt_row gt_right">0.00</td>
<td headers="wtrep13" class="gt_row gt_right">61009.71</td>
<td headers="wtrep14" class="gt_row gt_right">0.00</td>
<td headers="wtrep15" class="gt_row gt_right">73813.78</td>
<td headers="wtrep16" class="gt_row gt_right">67483.74</td>
<td headers="wtrep17" class="gt_row gt_right">0.00</td>
<td headers="wtrep18" class="gt_row gt_right">0.00</td>
<td headers="wtrep19" class="gt_row gt_right">0.00</td>
<td headers="wtrep20" class="gt_row gt_right">61308.65</td>
<td headers="wtrep21" class="gt_row gt_right">0.00</td>
<td headers="wtrep22" class="gt_row gt_right">0.00</td>
<td headers="wtrep23" class="gt_row gt_right">0.00</td>
<td headers="wtrep24" class="gt_row gt_right">0.00</td>
<td headers="wtrep25" class="gt_row gt_right">0.00</td>
<td headers="wtrep26" class="gt_row gt_right">64421.14</td>
<td headers="wtrep27" class="gt_row gt_right">80364.05</td>
<td headers="wtrep28" class="gt_row gt_right">63777.95</td>
<td headers="wtrep29" class="gt_row gt_right">0.00</td>
<td headers="wtrep30" class="gt_row gt_right">68784.96</td>
<td headers="wtrep31" class="gt_row gt_right">0.00</td>
<td headers="wtrep32" class="gt_row gt_right">0.00</td>
<td headers="wtrep33" class="gt_row gt_right">0.00</td>
<td headers="wtrep34" class="gt_row gt_right">66196.82</td>
<td headers="wtrep35" class="gt_row gt_right">69101.02</td>
<td headers="wtrep36" class="gt_row gt_right">68260.70</td>
<td headers="wtrep37" class="gt_row gt_right">69157.21</td>
<td headers="wtrep38" class="gt_row gt_right">59350.62</td>
<td headers="wtrep39" class="gt_row gt_right">0.00</td>
<td headers="wtrep40" class="gt_row gt_right">56558.47</td>
<td headers="wtrep41" class="gt_row gt_right">61551.35</td>
<td headers="wtrep42" class="gt_row gt_right">63870.17</td>
<td headers="wtrep43" class="gt_row gt_right">0.00</td>
<td headers="wtrep44" class="gt_row gt_right">0.00</td>
<td headers="bls_urbn" class="gt_row gt_center">Urban</td>
<td headers="mo_scope" class="gt_row gt_right">0</td>
<td headers="popwt" class="gt_row gt_right">0</td>
<td headers="ucc" class="gt_row gt_left">NA</td>
<td headers="ref_yr" class="gt_row gt_right">NA</td>
<td headers="ref_mo" class="gt_row gt_right">NA</td>
<td headers="cost" class="gt_row gt_right">0</td>
<td headers="survey" class="gt_row gt_left">I</td>
</tr>
<tr>
<td headers="newid" class="gt_row gt_right">04378194</td>
<td headers="finlwt21" class="gt_row gt_right">26543.42</td>
<td headers="wtrep01" class="gt_row gt_right">48347.47</td>
<td headers="wtrep02" class="gt_row gt_right">0.00</td>
<td headers="wtrep03" class="gt_row gt_right">52400.57</td>
<td headers="wtrep04" class="gt_row gt_right">0.00</td>
<td headers="wtrep05" class="gt_row gt_right">0.00</td>
<td headers="wtrep06" class="gt_row gt_right">0.00</td>
<td headers="wtrep07" class="gt_row gt_right">54452.42</td>
<td headers="wtrep08" class="gt_row gt_right">56357.94</td>
<td headers="wtrep09" class="gt_row gt_right">0.00</td>
<td headers="wtrep10" class="gt_row gt_right">49279.82</td>
<td headers="wtrep11" class="gt_row gt_right">0.00</td>
<td headers="wtrep12" class="gt_row gt_right">49634.22</td>
<td headers="wtrep13" class="gt_row gt_right">50323.44</td>
<td headers="wtrep14" class="gt_row gt_right">0.00</td>
<td headers="wtrep15" class="gt_row gt_right">0.00</td>
<td headers="wtrep16" class="gt_row gt_right">51177.03</td>
<td headers="wtrep17" class="gt_row gt_right">0.00</td>
<td headers="wtrep18" class="gt_row gt_right">0.00</td>
<td headers="wtrep19" class="gt_row gt_right">54998.37</td>
<td headers="wtrep20" class="gt_row gt_right">0.00</td>
<td headers="wtrep21" class="gt_row gt_right">50254.05</td>
<td headers="wtrep22" class="gt_row gt_right">0.00</td>
<td headers="wtrep23" class="gt_row gt_right">0.00</td>
<td headers="wtrep24" class="gt_row gt_right">49948.46</td>
<td headers="wtrep25" class="gt_row gt_right">50022.11</td>
<td headers="wtrep26" class="gt_row gt_right">50772.96</td>
<td headers="wtrep27" class="gt_row gt_right">0.00</td>
<td headers="wtrep28" class="gt_row gt_right">48660.00</td>
<td headers="wtrep29" class="gt_row gt_right">49470.47</td>
<td headers="wtrep30" class="gt_row gt_right">48256.39</td>
<td headers="wtrep31" class="gt_row gt_right">56070.84</td>
<td headers="wtrep32" class="gt_row gt_right">51642.24</td>
<td headers="wtrep33" class="gt_row gt_right">0.00</td>
<td headers="wtrep34" class="gt_row gt_right">0.00</td>
<td headers="wtrep35" class="gt_row gt_right">0.00</td>
<td headers="wtrep36" class="gt_row gt_right">51286.78</td>
<td headers="wtrep37" class="gt_row gt_right">0.00</td>
<td headers="wtrep38" class="gt_row gt_right">49888.79</td>
<td headers="wtrep39" class="gt_row gt_right">47868.12</td>
<td headers="wtrep40" class="gt_row gt_right">55679.25</td>
<td headers="wtrep41" class="gt_row gt_right">0.00</td>
<td headers="wtrep42" class="gt_row gt_right">0.00</td>
<td headers="wtrep43" class="gt_row gt_right">0.00</td>
<td headers="wtrep44" class="gt_row gt_right">0.00</td>
<td headers="bls_urbn" class="gt_row gt_center">Urban</td>
<td headers="mo_scope" class="gt_row gt_right">0</td>
<td headers="popwt" class="gt_row gt_right">0</td>
<td headers="ucc" class="gt_row gt_left">NA</td>
<td headers="ref_yr" class="gt_row gt_right">NA</td>
<td headers="ref_mo" class="gt_row gt_right">NA</td>
<td headers="cost" class="gt_row gt_right">0</td>
<td headers="survey" class="gt_row gt_left">I</td>
</tr>
<tr>
<td headers="newid" class="gt_row gt_right">04378264</td>
<td headers="finlwt21" class="gt_row gt_right">15160.89</td>
<td headers="wtrep01" class="gt_row gt_right">0.00</td>
<td headers="wtrep02" class="gt_row gt_right">26527.27</td>
<td headers="wtrep03" class="gt_row gt_right">0.00</td>
<td headers="wtrep04" class="gt_row gt_right">35462.68</td>
<td headers="wtrep05" class="gt_row gt_right">28120.91</td>
<td headers="wtrep06" class="gt_row gt_right">0.00</td>
<td headers="wtrep07" class="gt_row gt_right">0.00</td>
<td headers="wtrep08" class="gt_row gt_right">0.00</td>
<td headers="wtrep09" class="gt_row gt_right">31427.12</td>
<td headers="wtrep10" class="gt_row gt_right">0.00</td>
<td headers="wtrep11" class="gt_row gt_right">0.00</td>
<td headers="wtrep12" class="gt_row gt_right">0.00</td>
<td headers="wtrep13" class="gt_row gt_right">0.00</td>
<td headers="wtrep14" class="gt_row gt_right">0.00</td>
<td headers="wtrep15" class="gt_row gt_right">38128.59</td>
<td headers="wtrep16" class="gt_row gt_right">34121.49</td>
<td headers="wtrep17" class="gt_row gt_right">33596.86</td>
<td headers="wtrep18" class="gt_row gt_right">0.00</td>
<td headers="wtrep19" class="gt_row gt_right">29419.94</td>
<td headers="wtrep20" class="gt_row gt_right">0.00</td>
<td headers="wtrep21" class="gt_row gt_right">0.00</td>
<td headers="wtrep22" class="gt_row gt_right">0.00</td>
<td headers="wtrep23" class="gt_row gt_right">37406.35</td>
<td headers="wtrep24" class="gt_row gt_right">34331.83</td>
<td headers="wtrep25" class="gt_row gt_right">35157.93</td>
<td headers="wtrep26" class="gt_row gt_right">32163.44</td>
<td headers="wtrep27" class="gt_row gt_right">27623.50</td>
<td headers="wtrep28" class="gt_row gt_right">0.00</td>
<td headers="wtrep29" class="gt_row gt_right">26467.51</td>
<td headers="wtrep30" class="gt_row gt_right">30457.72</td>
<td headers="wtrep31" class="gt_row gt_right">32260.50</td>
<td headers="wtrep32" class="gt_row gt_right">0.00</td>
<td headers="wtrep33" class="gt_row gt_right">0.00</td>
<td headers="wtrep34" class="gt_row gt_right">29017.90</td>
<td headers="wtrep35" class="gt_row gt_right">0.00</td>
<td headers="wtrep36" class="gt_row gt_right">34166.82</td>
<td headers="wtrep37" class="gt_row gt_right">0.00</td>
<td headers="wtrep38" class="gt_row gt_right">0.00</td>
<td headers="wtrep39" class="gt_row gt_right">33442.30</td>
<td headers="wtrep40" class="gt_row gt_right">34997.28</td>
<td headers="wtrep41" class="gt_row gt_right">0.00</td>
<td headers="wtrep42" class="gt_row gt_right">26329.75</td>
<td headers="wtrep43" class="gt_row gt_right">25890.87</td>
<td headers="wtrep44" class="gt_row gt_right">0.00</td>
<td headers="bls_urbn" class="gt_row gt_center">Urban</td>
<td headers="mo_scope" class="gt_row gt_right">0</td>
<td headers="popwt" class="gt_row gt_right">0</td>
<td headers="ucc" class="gt_row gt_left">NA</td>
<td headers="ref_yr" class="gt_row gt_right">NA</td>
<td headers="ref_mo" class="gt_row gt_right">NA</td>
<td headers="cost" class="gt_row gt_right">0</td>
<td headers="survey" class="gt_row gt_left">I</td>
</tr>
</tbody>
</table>
</div>
<p>With the table output of <code><a href="../reference/ce_prepdata.html">ce_prepdata()</a></code> one can now split
up the data by the demographic variable of interest and operate on each
of the subsets independently to calculate estimates. Below I’ll show the
workflow for calculating estimated mean expenditures only for urban
consumers.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">car_data_urban</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">car_data</span>, <span class="va">bls_urbn</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"Urban"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ce_mean.html">ce_mean</a></span><span class="op">(</span><span class="va">car_data_urban</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="chsjdwjiid" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#chsjdwjiid table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#chsjdwjiid thead, #chsjdwjiid tbody, #chsjdwjiid tfoot, #chsjdwjiid tr, #chsjdwjiid td, #chsjdwjiid th {
  border-style: none;
}

#chsjdwjiid p {
  margin: 0;
  padding: 0;
}

#chsjdwjiid .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#chsjdwjiid .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#chsjdwjiid .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#chsjdwjiid .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#chsjdwjiid .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#chsjdwjiid .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#chsjdwjiid .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#chsjdwjiid .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#chsjdwjiid .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#chsjdwjiid .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#chsjdwjiid .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#chsjdwjiid .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#chsjdwjiid .gt_spanner_row {
  border-bottom-style: hidden;
}

#chsjdwjiid .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#chsjdwjiid .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#chsjdwjiid .gt_from_md > :first-child {
  margin-top: 0;
}

#chsjdwjiid .gt_from_md > :last-child {
  margin-bottom: 0;
}

#chsjdwjiid .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#chsjdwjiid .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#chsjdwjiid .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#chsjdwjiid .gt_row_group_first td {
  border-top-width: 2px;
}

#chsjdwjiid .gt_row_group_first th {
  border-top-width: 2px;
}

#chsjdwjiid .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#chsjdwjiid .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#chsjdwjiid .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#chsjdwjiid .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#chsjdwjiid .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#chsjdwjiid .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#chsjdwjiid .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#chsjdwjiid .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#chsjdwjiid .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#chsjdwjiid .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#chsjdwjiid .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#chsjdwjiid .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#chsjdwjiid .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#chsjdwjiid .gt_left {
  text-align: left;
}

#chsjdwjiid .gt_center {
  text-align: center;
}

#chsjdwjiid .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#chsjdwjiid .gt_font_normal {
  font-weight: normal;
}

#chsjdwjiid .gt_font_bold {
  font-weight: bold;
}

#chsjdwjiid .gt_font_italic {
  font-style: italic;
}

#chsjdwjiid .gt_super {
  font-size: 65%;
}

#chsjdwjiid .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#chsjdwjiid .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#chsjdwjiid .gt_indent_1 {
  text-indent: 5px;
}

#chsjdwjiid .gt_indent_2 {
  text-indent: 10px;
}

#chsjdwjiid .gt_indent_3 {
  text-indent: 15px;
}

#chsjdwjiid .gt_indent_4 {
  text-indent: 20px;
}

#chsjdwjiid .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="agg_exp">agg_exp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean_exp">mean_exp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="se">se</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="cv">cv</th>
    </tr></thead>
<tbody class="gt_table_body"><tr>
<td headers="agg_exp" class="gt_row gt_right">310383802180</td>
<td headers="mean_exp" class="gt_row gt_right">2472.104</td>
<td headers="se" class="gt_row gt_right">152.2238</td>
<td headers="cv" class="gt_row gt_right">6.157661</td>
</tr></tbody>
</table>
</div>
<p>Since I’m intersted in seeing this mean for all categories of
urbanicity, in the next step I’ll nest the car data by urbanicity in
order to be able to operate on subsets of the data independently. For
this I’ll use the <code><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest()</a></code> function from the
<code>tidyr</code> package.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">car_data_nested</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/nest.html" class="external-link">nest</a></span><span class="op">(</span><span class="va">car_data</span>, .by <span class="op">=</span> <span class="st">"bls_urbn"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">car_data_nested</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 2</span></span></span>
<span><span class="co">#&gt;   bls_urbn data                  </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>                </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Urban    <span style="color: #949494;">&lt;tibble [23,945 × 53]&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Rural    <span style="color: #949494;">&lt;tibble [1,600 × 53]&gt;</span></span></span></code></pre></div>
<p>With the data now grouped and subset by urbanicity I’ll now use
<code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map()</a></code> from the <code>purrr</code> package to apply
<code><a href="../reference/ce_mean.html">ce_mean()</a></code> to the subsets of data.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">car_data_nested</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ce_ann_means <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">ce_mean</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">data</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">ce_ann_means</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="flldrbqxnt" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#flldrbqxnt table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#flldrbqxnt thead, #flldrbqxnt tbody, #flldrbqxnt tfoot, #flldrbqxnt tr, #flldrbqxnt td, #flldrbqxnt th {
  border-style: none;
}

#flldrbqxnt p {
  margin: 0;
  padding: 0;
}

#flldrbqxnt .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#flldrbqxnt .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#flldrbqxnt .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#flldrbqxnt .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#flldrbqxnt .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#flldrbqxnt .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#flldrbqxnt .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#flldrbqxnt .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#flldrbqxnt .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#flldrbqxnt .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#flldrbqxnt .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#flldrbqxnt .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#flldrbqxnt .gt_spanner_row {
  border-bottom-style: hidden;
}

#flldrbqxnt .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#flldrbqxnt .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#flldrbqxnt .gt_from_md > :first-child {
  margin-top: 0;
}

#flldrbqxnt .gt_from_md > :last-child {
  margin-bottom: 0;
}

#flldrbqxnt .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#flldrbqxnt .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#flldrbqxnt .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#flldrbqxnt .gt_row_group_first td {
  border-top-width: 2px;
}

#flldrbqxnt .gt_row_group_first th {
  border-top-width: 2px;
}

#flldrbqxnt .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#flldrbqxnt .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#flldrbqxnt .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#flldrbqxnt .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#flldrbqxnt .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#flldrbqxnt .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#flldrbqxnt .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#flldrbqxnt .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#flldrbqxnt .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#flldrbqxnt .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#flldrbqxnt .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#flldrbqxnt .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#flldrbqxnt .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#flldrbqxnt .gt_left {
  text-align: left;
}

#flldrbqxnt .gt_center {
  text-align: center;
}

#flldrbqxnt .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#flldrbqxnt .gt_font_normal {
  font-weight: normal;
}

#flldrbqxnt .gt_font_bold {
  font-weight: bold;
}

#flldrbqxnt .gt_font_italic {
  font-style: italic;
}

#flldrbqxnt .gt_super {
  font-size: 65%;
}

#flldrbqxnt .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#flldrbqxnt .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#flldrbqxnt .gt_indent_1 {
  text-indent: 5px;
}

#flldrbqxnt .gt_indent_2 {
  text-indent: 10px;
}

#flldrbqxnt .gt_indent_3 {
  text-indent: 15px;
}

#flldrbqxnt .gt_indent_4 {
  text-indent: 20px;
}

#flldrbqxnt .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="bls_urbn">bls_urbn</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="agg_exp">agg_exp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean_exp">mean_exp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="se">se</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="cv">cv</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="bls_urbn" class="gt_row gt_center">Urban</td>
<td headers="agg_exp" class="gt_row gt_right">310383802180</td>
<td headers="mean_exp" class="gt_row gt_right">2472.104</td>
<td headers="se" class="gt_row gt_right">152.2238</td>
<td headers="cv" class="gt_row gt_right">6.157661</td>
</tr>
<tr>
<td headers="bls_urbn" class="gt_row gt_center">Rural</td>
<td headers="agg_exp" class="gt_row gt_right">30912654497</td>
<td headers="mean_exp" class="gt_row gt_right">3844.600</td>
<td headers="se" class="gt_row gt_right">683.8189</td>
<td headers="cv" class="gt_row gt_right">17.786476</td>
</tr>
</tbody>
</table>
</div>
<p>Getting the annual, weighted estimate of the median (or another
quantile) would be just as easy. Here I’ll calculate the first
percentile the median, the 95th percentile, and the 99.1 percentile
through 99.9 percentile for the overall sample.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ce_quantiles.html">ce_quantiles</a></span><span class="op">(</span></span>
<span>  <span class="va">car_data</span>,</span>
<span>  probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.5</span>, <span class="fl">0.95</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.99</span>, <span class="fl">0.999</span>, by <span class="op">=</span> <span class="fl">0.001</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="djyrmvkovh" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#djyrmvkovh table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#djyrmvkovh thead, #djyrmvkovh tbody, #djyrmvkovh tfoot, #djyrmvkovh tr, #djyrmvkovh td, #djyrmvkovh th {
  border-style: none;
}

#djyrmvkovh p {
  margin: 0;
  padding: 0;
}

#djyrmvkovh .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#djyrmvkovh .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#djyrmvkovh .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#djyrmvkovh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#djyrmvkovh .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#djyrmvkovh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#djyrmvkovh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#djyrmvkovh .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#djyrmvkovh .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#djyrmvkovh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#djyrmvkovh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#djyrmvkovh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#djyrmvkovh .gt_spanner_row {
  border-bottom-style: hidden;
}

#djyrmvkovh .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#djyrmvkovh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#djyrmvkovh .gt_from_md > :first-child {
  margin-top: 0;
}

#djyrmvkovh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#djyrmvkovh .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#djyrmvkovh .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#djyrmvkovh .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#djyrmvkovh .gt_row_group_first td {
  border-top-width: 2px;
}

#djyrmvkovh .gt_row_group_first th {
  border-top-width: 2px;
}

#djyrmvkovh .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#djyrmvkovh .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#djyrmvkovh .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#djyrmvkovh .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#djyrmvkovh .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#djyrmvkovh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#djyrmvkovh .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#djyrmvkovh .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#djyrmvkovh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#djyrmvkovh .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#djyrmvkovh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#djyrmvkovh .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#djyrmvkovh .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#djyrmvkovh .gt_left {
  text-align: left;
}

#djyrmvkovh .gt_center {
  text-align: center;
}

#djyrmvkovh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#djyrmvkovh .gt_font_normal {
  font-weight: normal;
}

#djyrmvkovh .gt_font_bold {
  font-weight: bold;
}

#djyrmvkovh .gt_font_italic {
  font-style: italic;
}

#djyrmvkovh .gt_super {
  font-size: 65%;
}

#djyrmvkovh .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#djyrmvkovh .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#djyrmvkovh .gt_indent_1 {
  text-indent: 5px;
}

#djyrmvkovh .gt_indent_2 {
  text-indent: 10px;
}

#djyrmvkovh .gt_indent_3 {
  text-indent: 15px;
}

#djyrmvkovh .gt_indent_4 {
  text-indent: 20px;
}

#djyrmvkovh .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="probs">probs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="quantile">quantile</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="probs" class="gt_row gt_right">1.0%</td>
<td headers="quantile" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">50.0%</td>
<td headers="quantile" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">95.0%</td>
<td headers="quantile" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.0%</td>
<td headers="quantile" class="gt_row gt_right">20000</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.1%</td>
<td headers="quantile" class="gt_row gt_right">21694</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.2%</td>
<td headers="quantile" class="gt_row gt_right">23271</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.3%</td>
<td headers="quantile" class="gt_row gt_right">25000</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.4%</td>
<td headers="quantile" class="gt_row gt_right">27005</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.5%</td>
<td headers="quantile" class="gt_row gt_right">29953</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.6%</td>
<td headers="quantile" class="gt_row gt_right">32000</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.7%</td>
<td headers="quantile" class="gt_row gt_right">35000</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.8%</td>
<td headers="quantile" class="gt_row gt_right">40000</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.9%</td>
<td headers="quantile" class="gt_row gt_right">47000</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="calculate-ce-weighted-quantile-estimates-by-urbanicity">Calculate CE weighted quantile estimates by urbanicity<a class="anchor" aria-label="anchor" href="#calculate-ce-weighted-quantile-estimates-by-urbanicity"></a>
</h2>
<p>Performing the operation by urbanicity would be similar to the way
it’s done with nested means. Here I’ll get the same quantiles by
urbanicity and pivot the table to compare the categories side-by-side
using the nested data.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">car_data_nested</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    ce_ann_quantiles <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span></span>
<span>      <span class="va">data</span>,</span>
<span>      \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="../reference/ce_quantiles.html">ce_quantiles</a></span><span class="op">(</span></span>
<span>        <span class="va">x</span>,</span>
<span>        probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.50</span>, <span class="fl">0.95</span>, <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.99</span>, <span class="fl">0.999</span>, by <span class="op">=</span> <span class="fl">0.001</span><span class="op">)</span><span class="op">)</span></span>
<span>      <span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">data</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">ce_ann_quantiles</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>values_from <span class="op">=</span> <span class="va">quantile</span>, names_from <span class="op">=</span> <span class="va">bls_urbn</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="mkugyijmkj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#mkugyijmkj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#mkugyijmkj thead, #mkugyijmkj tbody, #mkugyijmkj tfoot, #mkugyijmkj tr, #mkugyijmkj td, #mkugyijmkj th {
  border-style: none;
}

#mkugyijmkj p {
  margin: 0;
  padding: 0;
}

#mkugyijmkj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#mkugyijmkj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#mkugyijmkj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#mkugyijmkj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#mkugyijmkj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mkugyijmkj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mkugyijmkj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#mkugyijmkj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#mkugyijmkj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#mkugyijmkj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#mkugyijmkj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#mkugyijmkj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#mkugyijmkj .gt_spanner_row {
  border-bottom-style: hidden;
}

#mkugyijmkj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#mkugyijmkj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#mkugyijmkj .gt_from_md > :first-child {
  margin-top: 0;
}

#mkugyijmkj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#mkugyijmkj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#mkugyijmkj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#mkugyijmkj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#mkugyijmkj .gt_row_group_first td {
  border-top-width: 2px;
}

#mkugyijmkj .gt_row_group_first th {
  border-top-width: 2px;
}

#mkugyijmkj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mkugyijmkj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#mkugyijmkj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#mkugyijmkj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mkugyijmkj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#mkugyijmkj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#mkugyijmkj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#mkugyijmkj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#mkugyijmkj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#mkugyijmkj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mkugyijmkj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mkugyijmkj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#mkugyijmkj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#mkugyijmkj .gt_left {
  text-align: left;
}

#mkugyijmkj .gt_center {
  text-align: center;
}

#mkugyijmkj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#mkugyijmkj .gt_font_normal {
  font-weight: normal;
}

#mkugyijmkj .gt_font_bold {
  font-weight: bold;
}

#mkugyijmkj .gt_font_italic {
  font-style: italic;
}

#mkugyijmkj .gt_super {
  font-size: 65%;
}

#mkugyijmkj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#mkugyijmkj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#mkugyijmkj .gt_indent_1 {
  text-indent: 5px;
}

#mkugyijmkj .gt_indent_2 {
  text-indent: 10px;
}

#mkugyijmkj .gt_indent_3 {
  text-indent: 15px;
}

#mkugyijmkj .gt_indent_4 {
  text-indent: 20px;
}

#mkugyijmkj .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="probs">probs</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Urban">Urban</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Rural">Rural</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="probs" class="gt_row gt_right">1.0%</td>
<td headers="Urban" class="gt_row gt_right">0</td>
<td headers="Rural" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">50.0%</td>
<td headers="Urban" class="gt_row gt_right">0</td>
<td headers="Rural" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">95.0%</td>
<td headers="Urban" class="gt_row gt_right">0</td>
<td headers="Rural" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.0%</td>
<td headers="Urban" class="gt_row gt_right">20000</td>
<td headers="Rural" class="gt_row gt_right">26100</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.1%</td>
<td headers="Urban" class="gt_row gt_right">21000</td>
<td headers="Rural" class="gt_row gt_right">28000</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.2%</td>
<td headers="Urban" class="gt_row gt_right">23000</td>
<td headers="Rural" class="gt_row gt_right">28000</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.3%</td>
<td headers="Urban" class="gt_row gt_right">25000</td>
<td headers="Rural" class="gt_row gt_right">32000</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.4%</td>
<td headers="Urban" class="gt_row gt_right">26780</td>
<td headers="Rural" class="gt_row gt_right">33536</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.5%</td>
<td headers="Urban" class="gt_row gt_right">29000</td>
<td headers="Rural" class="gt_row gt_right">37500</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.6%</td>
<td headers="Urban" class="gt_row gt_right">31500</td>
<td headers="Rural" class="gt_row gt_right">45000</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.7%</td>
<td headers="Urban" class="gt_row gt_right">35000</td>
<td headers="Rural" class="gt_row gt_right">45000</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.8%</td>
<td headers="Urban" class="gt_row gt_right">39000</td>
<td headers="Rural" class="gt_row gt_right">52430</td>
</tr>
<tr>
<td headers="probs" class="gt_row gt_right">99.9%</td>
<td headers="Urban" class="gt_row gt_right">45678</td>
<td headers="Rural" class="gt_row gt_right">54639</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="clean-up">Clean-up<a class="anchor" aria-label="anchor" href="#clean-up"></a>
</h3>
<p>Finally, now that the analysis is done, I’ll delete the temporary
directory that contains all the CE data.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Arcenis Rojas.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
