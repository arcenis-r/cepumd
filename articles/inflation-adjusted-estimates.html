<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="cepumd">
<title>Calcluating Inflation-Adjusted CE Estimates • cepumd</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calcluating Inflation-Adjusted CE Estimates">
<meta property="og:description" content="cepumd">
<meta property="og:image" content="https://arcenis-r.github.io/cepumd/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">cepumd</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/simple-cepumd-workflow.html">Simple cepumd Workflow</a>
    <a class="dropdown-item" href="../articles/ce-estimates-by-demographics.html">CE Estimates by Demographic Category</a>
    <a class="dropdown-item" href="../articles/inflation-adjusted-estimates.html">Calcluating Inflation-Adjusted CE Estimates</a>
    <a class="dropdown-item" href="../articles/inconsistent-code-definitions.html">Accounting for Inconsistent Code Definitions in CE PUMD</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://linkedin.com/in/arcenisrojas" aria-label="LinkedIn">
    <span class="fa fa-linkedin"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/arcenis-r/cepumd/" aria-label="GitHub">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calcluating Inflation-Adjusted CE Estimates</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/arcenis-r/cepumd/blob/HEAD/vignettes/articles/inflation-adjusted-estimates.Rmd" class="external-link"><code>vignettes/articles/inflation-adjusted-estimates.Rmd</code></a></small>
      <div class="d-none name"><code>inflation-adjusted-estimates.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://arcenis-r.github.io/cepumd/">cepumd</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org" class="external-link">readxl</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/groditi/blsR" class="external-link">blsR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com" class="external-link">gt</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In this example I’m going to compare mean annual expenditures on food
away from home between 2010 and 2020 by household size and I want to
convert expenditures to 2023 dollars using the CPI.</p>
<p>I’ll need the following data and metadata sources:</p>
<ul>
<li>Interview survey data zip files for 2010, 2019, and 2020</li>
<li>Diary survey data zip files for 2010 and 2020</li>
<li>Hierarchical grouping zip files</li>
<li>CE Data Dictionary</li>
</ul>
</div>
<div class="section level2">
<h2 id="data-gathering">Data gathering<a class="anchor" aria-label="anchor" href="#data-gathering"></a>
</h2>
<p>Data files can be downloaded from the <a href="https://www.bls.gov/cex/pumd_data.htm#csv" class="external-link">CE PUMD Data Files
page</a> (it’s easiest to use CSV) and hierarchical grouping files can
be downloaded from the <a href="https://www.bls.gov/cex/pumd_doc.htm" class="external-link">CE
PUMD Documentation page</a></p>
<p>To get the files I’ll first create a temporary directory and download
all of the files that I need from the BLS website into this directory.
You might choose to store your files differently, but this convention
will keep the files organized, it will keep the code simple, and
everything will be in a folder that will be easy to clean up after.
Since the BLS blocks third party applications I’ll add a user-agent to
identify myself in the download function that is stored in a variable
called <code>cepumd_ua</code> (not shown).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ce_data_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.bls.gov/cex/pumd/data/comma/intrvw19.zip"</span>,</span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"intrvw19.zip"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"wb"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"User-Agent"</span> <span class="op">=</span> <span class="va">cepumd_ua</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.bls.gov/cex/pumd/data/comma/intrvw20.zip"</span>,</span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"intrvw20.zip"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"wb"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"User-Agent"</span> <span class="op">=</span> <span class="va">cepumd_ua</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.bls.gov/cex/pumd/data/comma/intrvw10.zip"</span>,</span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"intrvw10.zip"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"wb"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"User-Agent"</span> <span class="op">=</span> <span class="va">cepumd_ua</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.bls.gov/cex/pumd/data/comma/diary20.zip"</span>,</span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"diary20.zip"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"wb"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"User-Agent"</span> <span class="op">=</span> <span class="va">cepumd_ua</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.bls.gov/cex/pumd/data/comma/diary10.zip"</span>,</span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"diary10.zip"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"wb"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"User-Agent"</span> <span class="op">=</span> <span class="va">cepumd_ua</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.bls.gov/cex/pumd/stubs.zip"</span>,</span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"stubs.zip"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"wb"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"User-Agent"</span> <span class="op">=</span> <span class="va">cepumd_ua</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span></span>
<span>  <span class="st">"https://www.bls.gov/cex/pumd/ce-pumd-interview-diary-dictionary.xlsx"</span>,</span>
<span>  <span class="fu">fs</span><span class="fu">::</span><span class="fu"><a href="https://fs.r-lib.org/reference/path.html" class="external-link">path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"ce-data-dict.xlsx"</span><span class="op">)</span>,</span>
<span>  mode <span class="op">=</span> <span class="st">"wb"</span>,</span>
<span>  headers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="st">"User-Agent"</span> <span class="op">=</span> <span class="va">cepumd_ua</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="identifying-expenditure-categories">Identifying expenditure categories<a class="anchor" aria-label="anchor" href="#identifying-expenditure-categories"></a>
</h2>
<p>First I’ll load the hierarchical grouping files for both years.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">integ10_hg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ce_hg.html">ce_hg</a></span><span class="op">(</span></span>
<span>  <span class="fl">2010</span>,</span>
<span>  <span class="va">integrated</span>,</span>
<span>  hg_zip_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"stubs.zip"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">integ20_hg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ce_hg.html">ce_hg</a></span><span class="op">(</span></span>
<span>  <span class="fl">2020</span>,</span>
<span>  <span class="va">integrated</span>,</span>
<span>  hg_zip_path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"stubs.zip"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Now I’ll filter rows that have “food away” in the title for 2010.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">integ10_hg</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/case.html" class="external-link">str_to_lower</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span>, <span class="st">"food away"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="phugfcygqi" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#phugfcygqi table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#phugfcygqi thead, #phugfcygqi tbody, #phugfcygqi tfoot, #phugfcygqi tr, #phugfcygqi td, #phugfcygqi th {
  border-style: none;
}

#phugfcygqi p {
  margin: 0;
  padding: 0;
}

#phugfcygqi .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#phugfcygqi .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#phugfcygqi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#phugfcygqi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#phugfcygqi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#phugfcygqi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#phugfcygqi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#phugfcygqi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#phugfcygqi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#phugfcygqi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#phugfcygqi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#phugfcygqi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#phugfcygqi .gt_spanner_row {
  border-bottom-style: hidden;
}

#phugfcygqi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#phugfcygqi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#phugfcygqi .gt_from_md > :first-child {
  margin-top: 0;
}

#phugfcygqi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#phugfcygqi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#phugfcygqi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#phugfcygqi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#phugfcygqi .gt_row_group_first td {
  border-top-width: 2px;
}

#phugfcygqi .gt_row_group_first th {
  border-top-width: 2px;
}

#phugfcygqi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#phugfcygqi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#phugfcygqi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#phugfcygqi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#phugfcygqi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#phugfcygqi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#phugfcygqi .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#phugfcygqi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#phugfcygqi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#phugfcygqi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#phugfcygqi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#phugfcygqi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#phugfcygqi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#phugfcygqi .gt_left {
  text-align: left;
}

#phugfcygqi .gt_center {
  text-align: center;
}

#phugfcygqi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#phugfcygqi .gt_font_normal {
  font-weight: normal;
}

#phugfcygqi .gt_font_bold {
  font-weight: bold;
}

#phugfcygqi .gt_font_italic {
  font-style: italic;
}

#phugfcygqi .gt_super {
  font-size: 65%;
}

#phugfcygqi .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#phugfcygqi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#phugfcygqi .gt_indent_1 {
  text-indent: 5px;
}

#phugfcygqi .gt_indent_2 {
  text-indent: 10px;
}

#phugfcygqi .gt_indent_3 {
  text-indent: 15px;
}

#phugfcygqi .gt_indent_4 {
  text-indent: 20px;
}

#phugfcygqi .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="level">level</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="title">title</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="ucc">ucc</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="survey">survey</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="factor">factor</th>
    </tr></thead>
<tbody class="gt_table_body"><tr>
<td headers="level" class="gt_row gt_right">3</td>
<td headers="title" class="gt_row gt_left">Food away from home</td>
<td headers="ucc" class="gt_row gt_left">FOODAWAY</td>
<td headers="survey" class="gt_row gt_left">G</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr></tbody>
</table>
</div>
<p>And the same for 2020.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">integ20_hg</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/case.html" class="external-link">str_to_lower</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span>, <span class="st">"food away"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="vdruorqdrj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#vdruorqdrj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#vdruorqdrj thead, #vdruorqdrj tbody, #vdruorqdrj tfoot, #vdruorqdrj tr, #vdruorqdrj td, #vdruorqdrj th {
  border-style: none;
}

#vdruorqdrj p {
  margin: 0;
  padding: 0;
}

#vdruorqdrj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#vdruorqdrj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#vdruorqdrj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#vdruorqdrj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#vdruorqdrj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vdruorqdrj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vdruorqdrj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#vdruorqdrj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#vdruorqdrj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#vdruorqdrj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#vdruorqdrj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#vdruorqdrj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#vdruorqdrj .gt_spanner_row {
  border-bottom-style: hidden;
}

#vdruorqdrj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#vdruorqdrj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#vdruorqdrj .gt_from_md > :first-child {
  margin-top: 0;
}

#vdruorqdrj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#vdruorqdrj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#vdruorqdrj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#vdruorqdrj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#vdruorqdrj .gt_row_group_first td {
  border-top-width: 2px;
}

#vdruorqdrj .gt_row_group_first th {
  border-top-width: 2px;
}

#vdruorqdrj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vdruorqdrj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#vdruorqdrj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#vdruorqdrj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vdruorqdrj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#vdruorqdrj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#vdruorqdrj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#vdruorqdrj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#vdruorqdrj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#vdruorqdrj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vdruorqdrj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vdruorqdrj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#vdruorqdrj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#vdruorqdrj .gt_left {
  text-align: left;
}

#vdruorqdrj .gt_center {
  text-align: center;
}

#vdruorqdrj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#vdruorqdrj .gt_font_normal {
  font-weight: normal;
}

#vdruorqdrj .gt_font_bold {
  font-weight: bold;
}

#vdruorqdrj .gt_font_italic {
  font-style: italic;
}

#vdruorqdrj .gt_super {
  font-size: 65%;
}

#vdruorqdrj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#vdruorqdrj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#vdruorqdrj .gt_indent_1 {
  text-indent: 5px;
}

#vdruorqdrj .gt_indent_2 {
  text-indent: 10px;
}

#vdruorqdrj .gt_indent_3 {
  text-indent: 15px;
}

#vdruorqdrj .gt_indent_4 {
  text-indent: 20px;
}

#vdruorqdrj .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="level">level</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="title">title</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="ucc">ucc</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="survey">survey</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="factor">factor</th>
    </tr></thead>
<tbody class="gt_table_body"><tr>
<td headers="level" class="gt_row gt_right">3</td>
<td headers="title" class="gt_row gt_left">Food away from home</td>
<td headers="ucc" class="gt_row gt_left">FOODAW</td>
<td headers="survey" class="gt_row gt_left">G</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr></tbody>
</table>
</div>
<p>The title is the same in both years (“Food away from home”). I’ll use
that to get the UCCs for both years. But first, I’ll show the UCCs that
make up the “Food away from home” expenditure category in 2010 using
setting the <code>ucc_only</code> argument in <code><a href="../reference/ce_uccs.html">ce_uccs()</a></code> to
<code>FALSE</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">integ10_hg</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ce_uccs.html">ce_uccs</a></span><span class="op">(</span>expenditure <span class="op">=</span> <span class="st">"Food away from home"</span>, uccs_only <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="uhjlmfzbku" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#uhjlmfzbku table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#uhjlmfzbku thead, #uhjlmfzbku tbody, #uhjlmfzbku tfoot, #uhjlmfzbku tr, #uhjlmfzbku td, #uhjlmfzbku th {
  border-style: none;
}

#uhjlmfzbku p {
  margin: 0;
  padding: 0;
}

#uhjlmfzbku .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#uhjlmfzbku .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#uhjlmfzbku .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#uhjlmfzbku .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#uhjlmfzbku .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uhjlmfzbku .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uhjlmfzbku .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#uhjlmfzbku .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#uhjlmfzbku .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#uhjlmfzbku .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#uhjlmfzbku .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#uhjlmfzbku .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#uhjlmfzbku .gt_spanner_row {
  border-bottom-style: hidden;
}

#uhjlmfzbku .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#uhjlmfzbku .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#uhjlmfzbku .gt_from_md > :first-child {
  margin-top: 0;
}

#uhjlmfzbku .gt_from_md > :last-child {
  margin-bottom: 0;
}

#uhjlmfzbku .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#uhjlmfzbku .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#uhjlmfzbku .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#uhjlmfzbku .gt_row_group_first td {
  border-top-width: 2px;
}

#uhjlmfzbku .gt_row_group_first th {
  border-top-width: 2px;
}

#uhjlmfzbku .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uhjlmfzbku .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#uhjlmfzbku .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#uhjlmfzbku .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uhjlmfzbku .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#uhjlmfzbku .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#uhjlmfzbku .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#uhjlmfzbku .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#uhjlmfzbku .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#uhjlmfzbku .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uhjlmfzbku .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uhjlmfzbku .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#uhjlmfzbku .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#uhjlmfzbku .gt_left {
  text-align: left;
}

#uhjlmfzbku .gt_center {
  text-align: center;
}

#uhjlmfzbku .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#uhjlmfzbku .gt_font_normal {
  font-weight: normal;
}

#uhjlmfzbku .gt_font_bold {
  font-weight: bold;
}

#uhjlmfzbku .gt_font_italic {
  font-style: italic;
}

#uhjlmfzbku .gt_super {
  font-size: 65%;
}

#uhjlmfzbku .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#uhjlmfzbku .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#uhjlmfzbku .gt_indent_1 {
  text-indent: 5px;
}

#uhjlmfzbku .gt_indent_2 {
  text-indent: 10px;
}

#uhjlmfzbku .gt_indent_3 {
  text-indent: 15px;
}

#uhjlmfzbku .gt_indent_4 {
  text-indent: 20px;
}

#uhjlmfzbku .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="level">level</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="title">title</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="ucc">ucc</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="survey">survey</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="factor">factor</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="level" class="gt_row gt_right">3</td>
<td headers="title" class="gt_row gt_left">Food away from home</td>
<td headers="ucc" class="gt_row gt_left">FOODAWAY</td>
<td headers="survey" class="gt_row gt_left">G</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">4</td>
<td headers="title" class="gt_row gt_left">Meals at restaurants, carry outs and other</td>
<td headers="ucc" class="gt_row gt_left">RESTCOAO</td>
<td headers="survey" class="gt_row gt_left">G</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">5</td>
<td headers="title" class="gt_row gt_left">Lunch</td>
<td headers="ucc" class="gt_row gt_left">LUNCH</td>
<td headers="survey" class="gt_row gt_left">G</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Lunch at fast food, take-out, delivery, concession</td>
<td headers="ucc" class="gt_row gt_left">190111</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">stands, buffet and cafeteria (other than employer</td>
<td headers="ucc" class="gt_row gt_left">190111</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">and school cafeteria)</td>
<td headers="ucc" class="gt_row gt_left">190111</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Lunch at full service restaurants</td>
<td headers="ucc" class="gt_row gt_left">190112</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Lunch at vending machines and mobile vendors</td>
<td headers="ucc" class="gt_row gt_left">190113</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Lunch at employer and school cafeterias</td>
<td headers="ucc" class="gt_row gt_left">190114</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">5</td>
<td headers="title" class="gt_row gt_left">Dinner</td>
<td headers="ucc" class="gt_row gt_left">DINNER</td>
<td headers="survey" class="gt_row gt_left">G</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Dinner at fast food, take-out, delivery, concession</td>
<td headers="ucc" class="gt_row gt_left">190211</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">stands, buffet and cafeteria (other than employer</td>
<td headers="ucc" class="gt_row gt_left">190211</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">and school cafeteria)</td>
<td headers="ucc" class="gt_row gt_left">190211</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Dinner at full service restaurants</td>
<td headers="ucc" class="gt_row gt_left">190212</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Dinner at vending machines and mobile vendors</td>
<td headers="ucc" class="gt_row gt_left">190213</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Dinner at employer and school cafeterias</td>
<td headers="ucc" class="gt_row gt_left">190214</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">5</td>
<td headers="title" class="gt_row gt_left">Snacks and nonalcoholic beverages</td>
<td headers="ucc" class="gt_row gt_left">SNKNABEV</td>
<td headers="survey" class="gt_row gt_left">G</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Snacks and nonalcoholic beverages at fast food,</td>
<td headers="ucc" class="gt_row gt_left">190311</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">take-out, delivery, concession stands, buffet and</td>
<td headers="ucc" class="gt_row gt_left">190311</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">cafeteria (other than employer and school</td>
<td headers="ucc" class="gt_row gt_left">190311</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">cafeteria)</td>
<td headers="ucc" class="gt_row gt_left">190311</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Snacks and nonalcoholic beverages at full service</td>
<td headers="ucc" class="gt_row gt_left">190312</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">restaurants</td>
<td headers="ucc" class="gt_row gt_left">190312</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Snacks and nonalcoholic beverages at vending</td>
<td headers="ucc" class="gt_row gt_left">190313</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">machines and mobile vendors</td>
<td headers="ucc" class="gt_row gt_left">190313</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Snacks and nonalcoholic beverages at employer and</td>
<td headers="ucc" class="gt_row gt_left">190314</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">school cafeterias</td>
<td headers="ucc" class="gt_row gt_left">190314</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">5</td>
<td headers="title" class="gt_row gt_left">Breakfast and brunch</td>
<td headers="ucc" class="gt_row gt_left">BRKFBRUN</td>
<td headers="survey" class="gt_row gt_left">G</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Breakfast and brunch at fast food, take-out,</td>
<td headers="ucc" class="gt_row gt_left">190321</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">delivery, concession stands, buffet and cafeteria</td>
<td headers="ucc" class="gt_row gt_left">190321</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">(other than employer and school cafeteria)</td>
<td headers="ucc" class="gt_row gt_left">190321</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Breakfast and brunch at full service restaurants</td>
<td headers="ucc" class="gt_row gt_left">190322</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Breakfast and brunch at vending machines and mobile</td>
<td headers="ucc" class="gt_row gt_left">190323</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">vendors</td>
<td headers="ucc" class="gt_row gt_left">190323</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">Breakfast and brunch at employer and school</td>
<td headers="ucc" class="gt_row gt_left">190324</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">6</td>
<td headers="title" class="gt_row gt_left">cafeterias</td>
<td headers="ucc" class="gt_row gt_left">190324</td>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">4</td>
<td headers="title" class="gt_row gt_left">Food or board at school</td>
<td headers="ucc" class="gt_row gt_left">190901</td>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">4</td>
<td headers="title" class="gt_row gt_left">Catered affairs</td>
<td headers="ucc" class="gt_row gt_left">190902</td>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">4</td>
<td headers="title" class="gt_row gt_left">Food on out-of-town trips</td>
<td headers="ucc" class="gt_row gt_left">190903</td>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">4</td>
<td headers="title" class="gt_row gt_left">School lunches</td>
<td headers="ucc" class="gt_row gt_left">790430</td>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="level" class="gt_row gt_right">4</td>
<td headers="title" class="gt_row gt_left">Meals as pay</td>
<td headers="ucc" class="gt_row gt_left">800700</td>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="factor" class="gt_row gt_right">1</td>
</tr>
</tbody>
</table>
</div>
<p>Next I’ll store the UCC’s for each year as vectors to use in
downstream operations.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">food_away_uccs_10</span> <span class="op">&lt;-</span> <span class="va">integ10_hg</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ce_uccs.html">ce_uccs</a></span><span class="op">(</span>expenditure <span class="op">=</span> <span class="st">"Food away from home"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">food_away_uccs_20</span> <span class="op">&lt;-</span> <span class="va">integ20_hg</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ce_uccs.html">ce_uccs</a></span><span class="op">(</span>expenditure <span class="op">=</span> <span class="st">"Food away from home"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="identifying-and-exploring-the-grouping-variable">Identifying and exploring the grouping variable<a class="anchor" aria-label="anchor" href="#identifying-and-exploring-the-grouping-variable"></a>
</h2>
<p>With the UCCs secured, now I’ll turn to finding the variable for
household size in the CE data dictionary, which can also be downloaded
from the <a href="https://www.bls.gov/cex/pumd_doc.htm" class="external-link">CE PUMD
Documentation page</a>. It’s important to remember that the dictionary
is stored as an “XLSX” workbook that has three worksheets named “Cover”,
“Variables”, “Codes” (yes, the sheet name “Codes” has a space on the
end). I’ll use functions from the <code>readxl</code> package to work
with the dictionary.</p>
<p>I’ll first read in the “Variables” sheet and filter for any rows
corresponding to the FMLI file that have “number of members” in the
variable description. I also want to filter the variable data to only
the FMLI where the “Last year” column is missing, i.e., the variable
definition is still in use.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ce_variables</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_excel</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"ce-data-dict.xlsx"</span><span class="op">)</span>,</span>
<span>  sheet <span class="op">=</span> <span class="st">"Variables"</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Expecting logical in N1014 / R1014C14: got 'Variable was replaced with</span></span>
<span><span class="co">#&gt; FINATXEM. FINATXEM calculates after tax income using estimated tax data.'</span></span>
<span><span class="co">#&gt; Warning: Expecting logical in N2139 / R2139C14: got 'Data collected only in</span></span>
<span><span class="co">#&gt; final interview'</span></span>
<span><span class="co">#&gt; Warning: Expecting logical in N2140 / R2140C14: got 'Data collected only in</span></span>
<span><span class="co">#&gt; fifth interview'</span></span>
<span><span class="co">#&gt; Warning: Expecting logical in N2141 / R2141C14: got 'Data collected only in</span></span>
<span><span class="co">#&gt; fifth interview'</span></span>
<span><span class="co">#&gt; Warning: Expecting logical in N2142 / R2142C14: got 'Data collected only in</span></span>
<span><span class="co">#&gt; final interview'</span></span>
<span></span>
<span><span class="va">ce_variables</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">File</span>, <span class="st">"FMLI"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="va">`Variable description`</span><span class="op">)</span>, <span class="st">"number of members"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="hiuwdirvxc" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#hiuwdirvxc table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#hiuwdirvxc thead, #hiuwdirvxc tbody, #hiuwdirvxc tfoot, #hiuwdirvxc tr, #hiuwdirvxc td, #hiuwdirvxc th {
  border-style: none;
}

#hiuwdirvxc p {
  margin: 0;
  padding: 0;
}

#hiuwdirvxc .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hiuwdirvxc .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#hiuwdirvxc .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hiuwdirvxc .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hiuwdirvxc .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hiuwdirvxc .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hiuwdirvxc .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hiuwdirvxc .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hiuwdirvxc .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hiuwdirvxc .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hiuwdirvxc .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hiuwdirvxc .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hiuwdirvxc .gt_spanner_row {
  border-bottom-style: hidden;
}

#hiuwdirvxc .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#hiuwdirvxc .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hiuwdirvxc .gt_from_md > :first-child {
  margin-top: 0;
}

#hiuwdirvxc .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hiuwdirvxc .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hiuwdirvxc .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#hiuwdirvxc .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#hiuwdirvxc .gt_row_group_first td {
  border-top-width: 2px;
}

#hiuwdirvxc .gt_row_group_first th {
  border-top-width: 2px;
}

#hiuwdirvxc .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hiuwdirvxc .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#hiuwdirvxc .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#hiuwdirvxc .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hiuwdirvxc .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hiuwdirvxc .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hiuwdirvxc .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#hiuwdirvxc .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hiuwdirvxc .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hiuwdirvxc .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hiuwdirvxc .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hiuwdirvxc .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hiuwdirvxc .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#hiuwdirvxc .gt_left {
  text-align: left;
}

#hiuwdirvxc .gt_center {
  text-align: center;
}

#hiuwdirvxc .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hiuwdirvxc .gt_font_normal {
  font-weight: normal;
}

#hiuwdirvxc .gt_font_bold {
  font-weight: bold;
}

#hiuwdirvxc .gt_font_italic {
  font-style: italic;
}

#hiuwdirvxc .gt_super {
  font-size: 65%;
}

#hiuwdirvxc .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#hiuwdirvxc .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#hiuwdirvxc .gt_indent_1 {
  text-indent: 5px;
}

#hiuwdirvxc .gt_indent_2 {
  text-indent: 10px;
}

#hiuwdirvxc .gt_indent_3 {
  text-indent: 15px;
}

#hiuwdirvxc .gt_indent_4 {
  text-indent: 20px;
}

#hiuwdirvxc .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Survey">Survey</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="File">File</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Variable Name">Variable Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Variable description">Variable description</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Formula">Formula</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Flag name">Flag name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Section number">Section number</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Section description">Section description</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Section part">Section part</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="First year">First year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="First Quarter">First Quarter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Last quarter">Last quarter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Last year">Last year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Comment">Comment</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="Survey" class="gt_row gt_left">INTERVIEW</td>
<td headers="File" class="gt_row gt_left">FMLI</td>
<td headers="Variable Name" class="gt_row gt_left">AS_COMP5</td>
<td headers="Variable description" class="gt_row gt_left">Number of members under age 2 in CU</td>
<td headers="Formula" class="gt_row gt_left">COUNT (AGE &lt; 2)</td>
<td headers="Flag name" class="gt_row gt_left">AS_C_MP5</td>
<td headers="Section number" class="gt_row gt_left">NA</td>
<td headers="Section description" class="gt_row gt_left">CU characteristics, income, weights, and summary level expenditures.</td>
<td headers="Section part" class="gt_row gt_left">NA</td>
<td headers="First year" class="gt_row gt_right">1984</td>
<td headers="First Quarter" class="gt_row gt_right">1</td>
<td headers="Last quarter" class="gt_row gt_right">NA</td>
<td headers="Last year" class="gt_row gt_right">NA</td>
<td headers="Comment" class="gt_row gt_center">NA</td>
</tr>
<tr>
<td headers="Survey" class="gt_row gt_left">INTERVIEW</td>
<td headers="File" class="gt_row gt_left">FMLI</td>
<td headers="Variable Name" class="gt_row gt_left">AS_COMP5</td>
<td headers="Variable description" class="gt_row gt_left">Number of members under age 2 in CU</td>
<td headers="Formula" class="gt_row gt_left">NA</td>
<td headers="Flag name" class="gt_row gt_left">AS_C_MP5</td>
<td headers="Section number" class="gt_row gt_left">NA</td>
<td headers="Section description" class="gt_row gt_left">CU characteristics, income, weights, and summary level expenditures.</td>
<td headers="Section part" class="gt_row gt_left">NA</td>
<td headers="First year" class="gt_row gt_right">1980</td>
<td headers="First Quarter" class="gt_row gt_right">1</td>
<td headers="Last quarter" class="gt_row gt_right">4</td>
<td headers="Last year" class="gt_row gt_right">1981</td>
<td headers="Comment" class="gt_row gt_center">NA</td>
</tr>
<tr>
<td headers="Survey" class="gt_row gt_left">INTERVIEW</td>
<td headers="File" class="gt_row gt_left">FMLI</td>
<td headers="Variable Name" class="gt_row gt_left">FAM_SIZE</td>
<td headers="Variable description" class="gt_row gt_left">Number of Members in CU</td>
<td headers="Formula" class="gt_row gt_left">NA</td>
<td headers="Flag name" class="gt_row gt_left">FAM__IZE</td>
<td headers="Section number" class="gt_row gt_left">NA</td>
<td headers="Section description" class="gt_row gt_left">CU characteristics, income, weights, and summary level expenditures.</td>
<td headers="Section part" class="gt_row gt_left">NA</td>
<td headers="First year" class="gt_row gt_right">1984</td>
<td headers="First Quarter" class="gt_row gt_right">1</td>
<td headers="Last quarter" class="gt_row gt_right">NA</td>
<td headers="Last year" class="gt_row gt_right">NA</td>
<td headers="Comment" class="gt_row gt_center">NA</td>
</tr>
<tr>
<td headers="Survey" class="gt_row gt_left">INTERVIEW</td>
<td headers="File" class="gt_row gt_left">FMLI</td>
<td headers="Variable Name" class="gt_row gt_left">FAM_SIZE</td>
<td headers="Variable description" class="gt_row gt_left">Number of Members in CU</td>
<td headers="Formula" class="gt_row gt_left">NA</td>
<td headers="Flag name" class="gt_row gt_left">FAM__IZE</td>
<td headers="Section number" class="gt_row gt_left">NA</td>
<td headers="Section description" class="gt_row gt_left">CU characteristics, income, weights, and summary level expenditures.</td>
<td headers="Section part" class="gt_row gt_left">NA</td>
<td headers="First year" class="gt_row gt_right">1980</td>
<td headers="First Quarter" class="gt_row gt_right">1</td>
<td headers="Last quarter" class="gt_row gt_right">4</td>
<td headers="Last year" class="gt_row gt_right">1981</td>
<td headers="Comment" class="gt_row gt_center">NA</td>
</tr>
</tbody>
</table>
</div>
<p>It looks like FAM_SIZE (from the “Variable Name” column) is the
variable I want. I can see that this variable was used from 1980 through
1981 then was dropped and re-introduced in 1984 and has been in use
since. So it looks like it’s available for my 2 years of interest. Next
I’ll check whether the FAM_SIZE variable has any value codes associated
with it. I’ll have to pull in the “Codes” sheet.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ce_codes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readxl.tidyverse.org/reference/read_excel.html" class="external-link">read_excel</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"ce-data-dict.xlsx"</span><span class="op">)</span>,</span>
<span>  sheet <span class="op">=</span> <span class="st">"Codes "</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">ce_codes</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">File</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"FMLI"</span>, <span class="va">Variable</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"FAM_SIZE"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="egbxvkweie" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#egbxvkweie table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#egbxvkweie thead, #egbxvkweie tbody, #egbxvkweie tfoot, #egbxvkweie tr, #egbxvkweie td, #egbxvkweie th {
  border-style: none;
}

#egbxvkweie p {
  margin: 0;
  padding: 0;
}

#egbxvkweie .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#egbxvkweie .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#egbxvkweie .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#egbxvkweie .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#egbxvkweie .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#egbxvkweie .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#egbxvkweie .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#egbxvkweie .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#egbxvkweie .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#egbxvkweie .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#egbxvkweie .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#egbxvkweie .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#egbxvkweie .gt_spanner_row {
  border-bottom-style: hidden;
}

#egbxvkweie .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#egbxvkweie .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#egbxvkweie .gt_from_md > :first-child {
  margin-top: 0;
}

#egbxvkweie .gt_from_md > :last-child {
  margin-bottom: 0;
}

#egbxvkweie .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#egbxvkweie .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#egbxvkweie .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#egbxvkweie .gt_row_group_first td {
  border-top-width: 2px;
}

#egbxvkweie .gt_row_group_first th {
  border-top-width: 2px;
}

#egbxvkweie .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#egbxvkweie .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#egbxvkweie .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#egbxvkweie .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#egbxvkweie .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#egbxvkweie .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#egbxvkweie .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#egbxvkweie .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#egbxvkweie .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#egbxvkweie .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#egbxvkweie .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#egbxvkweie .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#egbxvkweie .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#egbxvkweie .gt_left {
  text-align: left;
}

#egbxvkweie .gt_center {
  text-align: center;
}

#egbxvkweie .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#egbxvkweie .gt_font_normal {
  font-weight: normal;
}

#egbxvkweie .gt_font_bold {
  font-weight: bold;
}

#egbxvkweie .gt_font_italic {
  font-style: italic;
}

#egbxvkweie .gt_super {
  font-size: 65%;
}

#egbxvkweie .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#egbxvkweie .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#egbxvkweie .gt_indent_1 {
  text-indent: 5px;
}

#egbxvkweie .gt_indent_2 {
  text-indent: 10px;
}

#egbxvkweie .gt_indent_3 {
  text-indent: 15px;
}

#egbxvkweie .gt_indent_4 {
  text-indent: 20px;
}

#egbxvkweie .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Survey">Survey</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="File">File</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Variable">Variable</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Code value">Code value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Code description">Code description</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="First year">First year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="First quarter">First quarter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Last year">Last year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Last quarter">Last quarter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Comment">Comment</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="...11">...11</th>
    </tr></thead>
<tbody class="gt_table_body"></tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="preparing-ce-data">Preparing CE data<a class="anchor" aria-label="anchor" href="#preparing-ce-data"></a>
</h2>
<p>Since there are no observations in the “Codes” sheet (empty table
above), it looks like FAM_SIZE is not a coded variable, so it must be
numeric. With all that, I’m ready to prepare my data. I’ll start by
preparing the 2010 data and viewing a snippet of the FAM_SIZE
variable.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">food_away_data_10</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ce_prepdata.html">ce_prepdata</a></span><span class="op">(</span></span>
<span>  <span class="fl">2010</span>,</span>
<span>  <span class="va">integrated</span>,</span>
<span>  <span class="va">integ10_hg</span>,</span>
<span>  <span class="va">food_away_uccs_10</span>,</span>
<span>  dia_zp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"diary10.zip"</span><span class="op">)</span>,</span>
<span>  int_zp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"intrvw10.zip"</span><span class="op">)</span>,</span>
<span>  <span class="va">fam_size</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">food_away_data_10</span><span class="op">$</span><span class="va">fam_size</span><span class="op">)</span></span>
<span><span class="co">#&gt;  chr [1:77880] "2" "2" "2" "3" "2" "1" "2" "1" "2" "1" "1" "2" "1" "2" "3" ...</span></span></code></pre></div>
<p>It’s stored as a character (default behavior of
<code>prepdata()</code>), but the data are, in fact, numbers. Now I’ll
take a look at the distribution by converting the vector to a numeric
vector.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">food_away_data_10</span><span class="op">$</span><span class="va">fam_size</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span></span>
<span><span class="co">#&gt;   1.000   1.000   2.000   2.667   4.000  14.000</span></span></code></pre></div>
<p>Some households have as many as 14 people which would make for more
categories than I’d like, so I’ll create a FAM_SIZE label with any
number greater than 4 taking on the value “5+” (remembering, of course,
that all grouping variables are read in as character types, so I’ll have
to use as.numeric()). Next, I’ll prepare the 2020 data and row bind it
with the 2010 data as well as create the “fam_size_label” variable. I’m
also going to convert “ref_mo” and “ref_yr” to character to make it
compatible with the CPI data that I’ll get later. Here’s a look at just
a snippet of the data. Please take note that <code><a href="../reference/ce_prepdata.html">ce_prepdata()</a></code>
does not add the year to the data set.</p>
<div class="note" style="background-color: #D3D3D3; padding-top: 1em; padding-right: 1em; padding-bottom: 1em; padding-left: 1em; width: 80%; margin: auto; margin-top: 1em; margin-bottom: 1em">
<p>Note that the code to prepare the 2020 data calls two Interview zip
files. This is because the Interview is a recall survey and the file
from the last quarter of the previous year is required to calculate a
weighted, estimated mean. In previous years the files were all stored
together, but the CE changed how it organizes files in 2020. For more
information, please review the <a href="https://www.bls.gov/cex/pumd-getting-started-guide.htm#section3" class="external-link">Interview
Survey file conventions section of the “Getting Started Guide”</a></p>
</div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">food_away_data_20</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ce_prepdata.html">ce_prepdata</a></span><span class="op">(</span></span>
<span>  <span class="fl">2020</span>,</span>
<span>  <span class="va">integrated</span>,</span>
<span>  <span class="va">integ10_hg</span>,</span>
<span>  <span class="va">food_away_uccs_20</span>,</span>
<span>  dia_zp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"diary20.zip"</span><span class="op">)</span>,</span>
<span>  int_zp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"intrvw19.zip"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, <span class="st">"intrvw20.zip"</span><span class="op">)</span></span>
<span>  <span class="op">)</span>,</span>
<span>  <span class="va">fam_size</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">food_away_comp_data</span> <span class="op">&lt;-</span> <span class="va">food_away_data_10</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="st">"2010"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">food_away_data_20</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>year <span class="op">=</span> <span class="st">"2020"</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    fam_size_label <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">fam_size</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">4</span>,</span>
<span>      <span class="st">"5+"</span>,</span>
<span>      <span class="va">fam_size</span></span>
<span>    <span class="op">)</span>,</span>
<span>    ref_yr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">ref_yr</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">food_away_comp_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">survey</span>, <span class="va">year</span>, <span class="va">newid</span>, <span class="va">finlwt21</span>, <span class="va">cost</span>, <span class="va">ucc</span>, <span class="va">ref_yr</span>, <span class="va">ref_mo</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ucc</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">survey</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_sample</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="txbxhmrpwx" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#txbxhmrpwx table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#txbxhmrpwx thead, #txbxhmrpwx tbody, #txbxhmrpwx tfoot, #txbxhmrpwx tr, #txbxhmrpwx td, #txbxhmrpwx th {
  border-style: none;
}

#txbxhmrpwx p {
  margin: 0;
  padding: 0;
}

#txbxhmrpwx .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#txbxhmrpwx .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#txbxhmrpwx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#txbxhmrpwx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#txbxhmrpwx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#txbxhmrpwx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#txbxhmrpwx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#txbxhmrpwx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#txbxhmrpwx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#txbxhmrpwx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#txbxhmrpwx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#txbxhmrpwx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#txbxhmrpwx .gt_spanner_row {
  border-bottom-style: hidden;
}

#txbxhmrpwx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#txbxhmrpwx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#txbxhmrpwx .gt_from_md > :first-child {
  margin-top: 0;
}

#txbxhmrpwx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#txbxhmrpwx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#txbxhmrpwx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#txbxhmrpwx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#txbxhmrpwx .gt_row_group_first td {
  border-top-width: 2px;
}

#txbxhmrpwx .gt_row_group_first th {
  border-top-width: 2px;
}

#txbxhmrpwx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#txbxhmrpwx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#txbxhmrpwx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#txbxhmrpwx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#txbxhmrpwx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#txbxhmrpwx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#txbxhmrpwx .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#txbxhmrpwx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#txbxhmrpwx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#txbxhmrpwx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#txbxhmrpwx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#txbxhmrpwx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#txbxhmrpwx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#txbxhmrpwx .gt_left {
  text-align: left;
}

#txbxhmrpwx .gt_center {
  text-align: center;
}

#txbxhmrpwx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#txbxhmrpwx .gt_font_normal {
  font-weight: normal;
}

#txbxhmrpwx .gt_font_bold {
  font-weight: bold;
}

#txbxhmrpwx .gt_font_italic {
  font-style: italic;
}

#txbxhmrpwx .gt_super {
  font-size: 65%;
}

#txbxhmrpwx .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#txbxhmrpwx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#txbxhmrpwx .gt_indent_1 {
  text-indent: 5px;
}

#txbxhmrpwx .gt_indent_2 {
  text-indent: 10px;
}

#txbxhmrpwx .gt_indent_3 {
  text-indent: 15px;
}

#txbxhmrpwx .gt_indent_4 {
  text-indent: 20px;
}

#txbxhmrpwx .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="survey">survey</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="year">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="newid">newid</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="finlwt21">finlwt21</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="cost">cost</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="ucc">ucc</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="ref_yr">ref_yr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="ref_mo">ref_mo</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">01132652</td>
<td headers="finlwt21" class="gt_row gt_right">23418.762</td>
<td headers="cost" class="gt_row gt_right">70.07</td>
<td headers="ucc" class="gt_row gt_right">190322</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">9</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">01088091</td>
<td headers="finlwt21" class="gt_row gt_right">25586.227</td>
<td headers="cost" class="gt_row gt_right">130.00</td>
<td headers="ucc" class="gt_row gt_right">190312</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">5</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">01084901</td>
<td headers="finlwt21" class="gt_row gt_right">40432.181</td>
<td headers="cost" class="gt_row gt_right">117.00</td>
<td headers="ucc" class="gt_row gt_right">190112</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">5</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">02293142</td>
<td headers="finlwt21" class="gt_row gt_right">22431.856</td>
<td headers="cost" class="gt_row gt_right">100.00</td>
<td headers="ucc" class="gt_row gt_right">190903</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">7</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">02195583</td>
<td headers="finlwt21" class="gt_row gt_right">3246.494</td>
<td headers="cost" class="gt_row gt_right">40.00</td>
<td headers="ucc" class="gt_row gt_right">790430</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">02250795</td>
<td headers="finlwt21" class="gt_row gt_right">15308.012</td>
<td headers="cost" class="gt_row gt_right">65.00</td>
<td headers="ucc" class="gt_row gt_right">190903</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">7</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04594591</td>
<td headers="finlwt21" class="gt_row gt_right">135227.599</td>
<td headers="cost" class="gt_row gt_right">2133.30</td>
<td headers="ucc" class="gt_row gt_right">190111</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">8</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04434802</td>
<td headers="finlwt21" class="gt_row gt_right">12787.498</td>
<td headers="cost" class="gt_row gt_right">584.61</td>
<td headers="ucc" class="gt_row gt_right">190211</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">2</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04649112</td>
<td headers="finlwt21" class="gt_row gt_right">33641.319</td>
<td headers="cost" class="gt_row gt_right">280.80</td>
<td headers="ucc" class="gt_row gt_right">190311</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">10</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04312732</td>
<td headers="finlwt21" class="gt_row gt_right">54628.622</td>
<td headers="cost" class="gt_row gt_right">100.00</td>
<td headers="ucc" class="gt_row gt_right">190903</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">3</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04422892</td>
<td headers="finlwt21" class="gt_row gt_right">32714.965</td>
<td headers="cost" class="gt_row gt_right">400.00</td>
<td headers="ucc" class="gt_row gt_right">190903</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">8</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04405304</td>
<td headers="finlwt21" class="gt_row gt_right">24899.642</td>
<td headers="cost" class="gt_row gt_right">54.00</td>
<td headers="ucc" class="gt_row gt_right">190903</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">11</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="preparing-cpi-data">Preparing CPI data<a class="anchor" aria-label="anchor" href="#preparing-cpi-data"></a>
</h2>
<p>Now that the CE PUMD are ready, I’ll turn to getting CPI data for the
years in the analysis and for 2023 to set December 2023 as a base using
the <a href="https://github.com/groditi/blsR" class="external-link">blsR package</a>. I’ll use
the “All Urban Consumers (Current Series)” series, which has series ID
“CUUR0000SA0”.</p>
<p>Below is a snapshot of the CPI data.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cpi_data</span> <span class="op">&lt;-</span> <span class="fu">blsR</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/blsR/man/get_series.html" class="external-link">get_series</a></span><span class="op">(</span></span>
<span>  <span class="st">"CUUR0000SA0"</span>,</span>
<span>  start_year <span class="op">=</span> <span class="fl">2010</span>,</span>
<span>  end_year <span class="op">=</span> <span class="fl">2023</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://purrr.tidyverse.org/reference/pluck.html" class="external-link">pluck</a></span><span class="op">(</span><span class="st">"data"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span></span>
<span>    \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/list_flatten.html" class="external-link">list_flatten</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://tibble.tidyverse.org/reference/enframe.html" class="external-link">enframe</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="va">name</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"footnotes"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>      <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span>values_from <span class="op">=</span> <span class="va">value</span>, names_from <span class="op">=</span> <span class="va">name</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://purrr.tidyverse.org/reference/list_c.html" class="external-link">list_rbind</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>cpi <span class="op">=</span> <span class="st">"value"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>month <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="va">periodName</span>, <span class="va">month.name</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Year 2010 to 2023 is longer than 10 year API limit. Performing 2 requests.</span></span>
<span></span>
<span><span class="va">cpi_base</span> <span class="op">&lt;-</span> <span class="va">cpi_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"2023"</span>, <span class="va">month</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"12"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cpi_data</span> <span class="op">&lt;-</span> <span class="va">cpi_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">food_away_comp_data</span><span class="op">$</span><span class="va">ref_yr</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cpi_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="nyyqwzbqzm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#nyyqwzbqzm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#nyyqwzbqzm thead, #nyyqwzbqzm tbody, #nyyqwzbqzm tfoot, #nyyqwzbqzm tr, #nyyqwzbqzm td, #nyyqwzbqzm th {
  border-style: none;
}

#nyyqwzbqzm p {
  margin: 0;
  padding: 0;
}

#nyyqwzbqzm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nyyqwzbqzm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#nyyqwzbqzm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nyyqwzbqzm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nyyqwzbqzm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nyyqwzbqzm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nyyqwzbqzm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nyyqwzbqzm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nyyqwzbqzm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nyyqwzbqzm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nyyqwzbqzm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nyyqwzbqzm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nyyqwzbqzm .gt_spanner_row {
  border-bottom-style: hidden;
}

#nyyqwzbqzm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#nyyqwzbqzm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nyyqwzbqzm .gt_from_md > :first-child {
  margin-top: 0;
}

#nyyqwzbqzm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nyyqwzbqzm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nyyqwzbqzm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#nyyqwzbqzm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#nyyqwzbqzm .gt_row_group_first td {
  border-top-width: 2px;
}

#nyyqwzbqzm .gt_row_group_first th {
  border-top-width: 2px;
}

#nyyqwzbqzm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyyqwzbqzm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#nyyqwzbqzm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#nyyqwzbqzm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nyyqwzbqzm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyyqwzbqzm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nyyqwzbqzm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#nyyqwzbqzm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nyyqwzbqzm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nyyqwzbqzm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nyyqwzbqzm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyyqwzbqzm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nyyqwzbqzm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nyyqwzbqzm .gt_left {
  text-align: left;
}

#nyyqwzbqzm .gt_center {
  text-align: center;
}

#nyyqwzbqzm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nyyqwzbqzm .gt_font_normal {
  font-weight: normal;
}

#nyyqwzbqzm .gt_font_bold {
  font-weight: bold;
}

#nyyqwzbqzm .gt_font_italic {
  font-style: italic;
}

#nyyqwzbqzm .gt_super {
  font-size: 65%;
}

#nyyqwzbqzm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#nyyqwzbqzm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#nyyqwzbqzm .gt_indent_1 {
  text-indent: 5px;
}

#nyyqwzbqzm .gt_indent_2 {
  text-indent: 10px;
}

#nyyqwzbqzm .gt_indent_3 {
  text-indent: 15px;
}

#nyyqwzbqzm .gt_indent_4 {
  text-indent: 20px;
}

#nyyqwzbqzm .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="year">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="period">period</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="periodName">periodName</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="cpi">cpi</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="month">month</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="period" class="gt_row gt_left">M12</td>
<td headers="periodName" class="gt_row gt_left">December</td>
<td headers="cpi" class="gt_row gt_right">260.474</td>
<td headers="month" class="gt_row gt_right">12</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="period" class="gt_row gt_left">M11</td>
<td headers="periodName" class="gt_row gt_left">November</td>
<td headers="cpi" class="gt_row gt_right">260.229</td>
<td headers="month" class="gt_row gt_right">11</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="period" class="gt_row gt_left">M10</td>
<td headers="periodName" class="gt_row gt_left">October</td>
<td headers="cpi" class="gt_row gt_right">260.388</td>
<td headers="month" class="gt_row gt_right">10</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="period" class="gt_row gt_left">M09</td>
<td headers="periodName" class="gt_row gt_left">September</td>
<td headers="cpi" class="gt_row gt_right">260.280</td>
<td headers="month" class="gt_row gt_right">9</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="period" class="gt_row gt_left">M08</td>
<td headers="periodName" class="gt_row gt_left">August</td>
<td headers="cpi" class="gt_row gt_right">259.918</td>
<td headers="month" class="gt_row gt_right">8</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="period" class="gt_row gt_left">M07</td>
<td headers="periodName" class="gt_row gt_left">July</td>
<td headers="cpi" class="gt_row gt_right">259.101</td>
<td headers="month" class="gt_row gt_right">7</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="period" class="gt_row gt_left">M06</td>
<td headers="periodName" class="gt_row gt_left">June</td>
<td headers="cpi" class="gt_row gt_right">257.797</td>
<td headers="month" class="gt_row gt_right">6</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="period" class="gt_row gt_left">M05</td>
<td headers="periodName" class="gt_row gt_left">May</td>
<td headers="cpi" class="gt_row gt_right">256.394</td>
<td headers="month" class="gt_row gt_right">5</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="period" class="gt_row gt_left">M04</td>
<td headers="periodName" class="gt_row gt_left">April</td>
<td headers="cpi" class="gt_row gt_right">256.389</td>
<td headers="month" class="gt_row gt_right">4</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="period" class="gt_row gt_left">M03</td>
<td headers="periodName" class="gt_row gt_left">March</td>
<td headers="cpi" class="gt_row gt_right">258.115</td>
<td headers="month" class="gt_row gt_right">3</td>
</tr>
</tbody>
</table>
</div>
<p>Below is the data for the base month.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="va">cpi_base</span><span class="op">)</span></span></code></pre></div>
<div id="ijtmngjblw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ijtmngjblw table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ijtmngjblw thead, #ijtmngjblw tbody, #ijtmngjblw tfoot, #ijtmngjblw tr, #ijtmngjblw td, #ijtmngjblw th {
  border-style: none;
}

#ijtmngjblw p {
  margin: 0;
  padding: 0;
}

#ijtmngjblw .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ijtmngjblw .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ijtmngjblw .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ijtmngjblw .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ijtmngjblw .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ijtmngjblw .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ijtmngjblw .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ijtmngjblw .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ijtmngjblw .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ijtmngjblw .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ijtmngjblw .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ijtmngjblw .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ijtmngjblw .gt_spanner_row {
  border-bottom-style: hidden;
}

#ijtmngjblw .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ijtmngjblw .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ijtmngjblw .gt_from_md > :first-child {
  margin-top: 0;
}

#ijtmngjblw .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ijtmngjblw .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ijtmngjblw .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ijtmngjblw .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ijtmngjblw .gt_row_group_first td {
  border-top-width: 2px;
}

#ijtmngjblw .gt_row_group_first th {
  border-top-width: 2px;
}

#ijtmngjblw .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ijtmngjblw .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ijtmngjblw .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ijtmngjblw .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ijtmngjblw .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ijtmngjblw .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ijtmngjblw .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ijtmngjblw .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ijtmngjblw .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ijtmngjblw .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ijtmngjblw .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ijtmngjblw .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ijtmngjblw .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ijtmngjblw .gt_left {
  text-align: left;
}

#ijtmngjblw .gt_center {
  text-align: center;
}

#ijtmngjblw .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ijtmngjblw .gt_font_normal {
  font-weight: normal;
}

#ijtmngjblw .gt_font_bold {
  font-weight: bold;
}

#ijtmngjblw .gt_font_italic {
  font-style: italic;
}

#ijtmngjblw .gt_super {
  font-size: 65%;
}

#ijtmngjblw .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ijtmngjblw .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ijtmngjblw .gt_indent_1 {
  text-indent: 5px;
}

#ijtmngjblw .gt_indent_2 {
  text-indent: 10px;
}

#ijtmngjblw .gt_indent_3 {
  text-indent: 15px;
}

#ijtmngjblw .gt_indent_4 {
  text-indent: 20px;
}

#ijtmngjblw .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="year">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="period">period</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="periodName">periodName</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="cpi">cpi</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="month">month</th>
    </tr></thead>
<tbody class="gt_table_body"><tr>
<td headers="year" class="gt_row gt_right">2023</td>
<td headers="period" class="gt_row gt_left">M12</td>
<td headers="periodName" class="gt_row gt_left">December</td>
<td headers="cpi" class="gt_row gt_right">306.746</td>
<td headers="month" class="gt_row gt_right">12</td>
</tr></tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="merging-ce-and-cpi-data">Merging CE and CPI data<a class="anchor" aria-label="anchor" href="#merging-ce-and-cpi-data"></a>
</h2>
<p>Next I’m going to join the CPI data to the CE data and adjust the
“cost” variable for inflation. Note that I replace resulting missing
values in the “cost” variable with “0”. Missing values will result when
I multiply a cost of “0” by an adjustment factor and ce_mean() will not
function with missing values.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">food_away_comp_data</span> <span class="op">&lt;-</span> <span class="va">food_away_comp_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">cpi_data</span>, <span class="va">year</span>, <span class="va">month</span>, <span class="va">cpi</span><span class="op">)</span>,</span>
<span>    by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ref_yr"</span> <span class="op">=</span> <span class="st">"year"</span>, <span class="st">"ref_mo"</span> <span class="op">=</span> <span class="st">"month"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    base_cpi <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">cpi_base</span>, <span class="va">cpi</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">base_cpi</span>, <span class="va">cpi</span><span class="op">)</span>, <span class="va">as.numeric</span><span class="op">)</span>,</span>
<span>    cost <span class="op">=</span> <span class="va">cost</span> <span class="op">*</span> <span class="op">(</span><span class="va">base_cpi</span> <span class="op">/</span> <span class="va">cpi</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/replace_na.html" class="external-link">replace_na</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">food_away_comp_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">survey</span>, <span class="va">year</span>, <span class="va">newid</span>, <span class="va">finlwt21</span>, <span class="va">cost</span>, <span class="va">ucc</span>, <span class="va">ref_yr</span>, <span class="va">ref_mo</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">ucc</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">survey</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_sample</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="fzdyshaxef" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#fzdyshaxef table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#fzdyshaxef thead, #fzdyshaxef tbody, #fzdyshaxef tfoot, #fzdyshaxef tr, #fzdyshaxef td, #fzdyshaxef th {
  border-style: none;
}

#fzdyshaxef p {
  margin: 0;
  padding: 0;
}

#fzdyshaxef .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fzdyshaxef .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#fzdyshaxef .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fzdyshaxef .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fzdyshaxef .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fzdyshaxef .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fzdyshaxef .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fzdyshaxef .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fzdyshaxef .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fzdyshaxef .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fzdyshaxef .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fzdyshaxef .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fzdyshaxef .gt_spanner_row {
  border-bottom-style: hidden;
}

#fzdyshaxef .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#fzdyshaxef .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fzdyshaxef .gt_from_md > :first-child {
  margin-top: 0;
}

#fzdyshaxef .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fzdyshaxef .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fzdyshaxef .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fzdyshaxef .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fzdyshaxef .gt_row_group_first td {
  border-top-width: 2px;
}

#fzdyshaxef .gt_row_group_first th {
  border-top-width: 2px;
}

#fzdyshaxef .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fzdyshaxef .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fzdyshaxef .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fzdyshaxef .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fzdyshaxef .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fzdyshaxef .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fzdyshaxef .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#fzdyshaxef .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fzdyshaxef .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fzdyshaxef .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fzdyshaxef .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fzdyshaxef .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fzdyshaxef .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fzdyshaxef .gt_left {
  text-align: left;
}

#fzdyshaxef .gt_center {
  text-align: center;
}

#fzdyshaxef .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fzdyshaxef .gt_font_normal {
  font-weight: normal;
}

#fzdyshaxef .gt_font_bold {
  font-weight: bold;
}

#fzdyshaxef .gt_font_italic {
  font-style: italic;
}

#fzdyshaxef .gt_super {
  font-size: 65%;
}

#fzdyshaxef .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#fzdyshaxef .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fzdyshaxef .gt_indent_1 {
  text-indent: 5px;
}

#fzdyshaxef .gt_indent_2 {
  text-indent: 10px;
}

#fzdyshaxef .gt_indent_3 {
  text-indent: 15px;
}

#fzdyshaxef .gt_indent_4 {
  text-indent: 20px;
}

#fzdyshaxef .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="survey">survey</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="year">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="newid">newid</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="finlwt21">finlwt21</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="cost">cost</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="ucc">ucc</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="ref_yr">ref_yr</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="ref_mo">ref_mo</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">01044172</td>
<td headers="finlwt21" class="gt_row gt_right">23349.94</td>
<td headers="cost" class="gt_row gt_right">1607.68896</td>
<td headers="ucc" class="gt_row gt_right">190211</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">01113191</td>
<td headers="finlwt21" class="gt_row gt_right">28643.57</td>
<td headers="cost" class="gt_row gt_right">38.04584</td>
<td headers="ucc" class="gt_row gt_right">190314</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">7</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">01087762</td>
<td headers="finlwt21" class="gt_row gt_right">43039.54</td>
<td headers="cost" class="gt_row gt_right">72.37799</td>
<td headers="ucc" class="gt_row gt_right">190311</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">5</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">02020584</td>
<td headers="finlwt21" class="gt_row gt_right">20563.95</td>
<td headers="cost" class="gt_row gt_right">141.56179</td>
<td headers="ucc" class="gt_row gt_right">190902</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">02275152</td>
<td headers="finlwt21" class="gt_row gt_right">28246.37</td>
<td headers="cost" class="gt_row gt_right">14.07021</td>
<td headers="ucc" class="gt_row gt_right">190903</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">7</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="newid" class="gt_row gt_right">02334863</td>
<td headers="finlwt21" class="gt_row gt_right">23512.68</td>
<td headers="cost" class="gt_row gt_right">50.38282</td>
<td headers="ucc" class="gt_row gt_right">190903</td>
<td headers="ref_yr" class="gt_row gt_right">2010</td>
<td headers="ref_mo" class="gt_row gt_right">12</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04623551</td>
<td headers="finlwt21" class="gt_row gt_right">58018.44</td>
<td headers="cost" class="gt_row gt_right">312.60559</td>
<td headers="ucc" class="gt_row gt_right">190321</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">11</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04439351</td>
<td headers="finlwt21" class="gt_row gt_right">38224.86</td>
<td headers="cost" class="gt_row gt_right">1617.54249</td>
<td headers="ucc" class="gt_row gt_right">190111</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">3</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">D</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04518871</td>
<td headers="finlwt21" class="gt_row gt_right">26280.69</td>
<td headers="cost" class="gt_row gt_right">918.82086</td>
<td headers="ucc" class="gt_row gt_right">190111</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">6</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04391811</td>
<td headers="finlwt21" class="gt_row gt_right">30098.51</td>
<td headers="cost" class="gt_row gt_right">59.45358</td>
<td headers="ucc" class="gt_row gt_right">790430</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04315203</td>
<td headers="finlwt21" class="gt_row gt_right">39111.04</td>
<td headers="cost" class="gt_row gt_right">59.42041</td>
<td headers="ucc" class="gt_row gt_right">190903</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">3</td>
</tr>
<tr>
<td headers="survey" class="gt_row gt_left">I</td>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="newid" class="gt_row gt_right">04509731</td>
<td headers="finlwt21" class="gt_row gt_right">37748.24</td>
<td headers="cost" class="gt_row gt_right">130.88616</td>
<td headers="ucc" class="gt_row gt_right">190903</td>
<td headers="ref_yr" class="gt_row gt_right">2020</td>
<td headers="ref_mo" class="gt_row gt_right">6</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="calculate-ce-weighted-mean-estimate-by-household-size">Calculate CE weighted mean estimate by household size<a class="anchor" aria-label="anchor" href="#calculate-ce-weighted-mean-estimate-by-household-size"></a>
</h2>
<p>The final step is to calculate means, for which I’ll use some more
Tidyverse functions.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">food_away_means</span> <span class="op">&lt;-</span> <span class="va">food_away_comp_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_nest.html" class="external-link">group_nest</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">fam_size_label</span>, .key <span class="op">=</span> <span class="st">"data"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ce_mn_df <span class="op">=</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="va">data</span>, <span class="va">ce_mean</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">data</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">ce_mn_df</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>lower <span class="op">=</span> <span class="va">mean_exp</span> <span class="op">-</span> <span class="va">cv</span>, upper <span class="op">=</span> <span class="va">mean_exp</span> <span class="op">+</span> <span class="va">cv</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="va">food_away_means</span><span class="op">)</span></span></code></pre></div>
<div id="eygrbtnkum" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#eygrbtnkum table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#eygrbtnkum thead, #eygrbtnkum tbody, #eygrbtnkum tfoot, #eygrbtnkum tr, #eygrbtnkum td, #eygrbtnkum th {
  border-style: none;
}

#eygrbtnkum p {
  margin: 0;
  padding: 0;
}

#eygrbtnkum .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#eygrbtnkum .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#eygrbtnkum .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#eygrbtnkum .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#eygrbtnkum .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eygrbtnkum .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eygrbtnkum .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#eygrbtnkum .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#eygrbtnkum .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#eygrbtnkum .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#eygrbtnkum .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#eygrbtnkum .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#eygrbtnkum .gt_spanner_row {
  border-bottom-style: hidden;
}

#eygrbtnkum .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#eygrbtnkum .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#eygrbtnkum .gt_from_md > :first-child {
  margin-top: 0;
}

#eygrbtnkum .gt_from_md > :last-child {
  margin-bottom: 0;
}

#eygrbtnkum .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#eygrbtnkum .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#eygrbtnkum .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#eygrbtnkum .gt_row_group_first td {
  border-top-width: 2px;
}

#eygrbtnkum .gt_row_group_first th {
  border-top-width: 2px;
}

#eygrbtnkum .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eygrbtnkum .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#eygrbtnkum .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#eygrbtnkum .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eygrbtnkum .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#eygrbtnkum .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#eygrbtnkum .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#eygrbtnkum .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#eygrbtnkum .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#eygrbtnkum .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eygrbtnkum .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eygrbtnkum .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#eygrbtnkum .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#eygrbtnkum .gt_left {
  text-align: left;
}

#eygrbtnkum .gt_center {
  text-align: center;
}

#eygrbtnkum .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#eygrbtnkum .gt_font_normal {
  font-weight: normal;
}

#eygrbtnkum .gt_font_bold {
  font-weight: bold;
}

#eygrbtnkum .gt_font_italic {
  font-style: italic;
}

#eygrbtnkum .gt_super {
  font-size: 65%;
}

#eygrbtnkum .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#eygrbtnkum .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#eygrbtnkum .gt_indent_1 {
  text-indent: 5px;
}

#eygrbtnkum .gt_indent_2 {
  text-indent: 10px;
}

#eygrbtnkum .gt_indent_3 {
  text-indent: 15px;
}

#eygrbtnkum .gt_indent_4 {
  text-indent: 20px;
}

#eygrbtnkum .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="table gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="year">year</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="fam_size_label">fam_size_label</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="agg_exp">agg_exp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean_exp">mean_exp</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="se">se</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="cv">cv</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="lower">lower</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="upper">upper</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="fam_size_label" class="gt_row gt_right">1</td>
<td headers="agg_exp" class="gt_row gt_right">130764885443</td>
<td headers="mean_exp" class="gt_row gt_right">3736.098</td>
<td headers="se" class="gt_row gt_right">145.8490</td>
<td headers="cv" class="gt_row gt_right">3.903778</td>
<td headers="lower" class="gt_row gt_right">3732.194</td>
<td headers="upper" class="gt_row gt_right">3740.002</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="fam_size_label" class="gt_row gt_right">2</td>
<td headers="agg_exp" class="gt_row gt_right">226943690948</td>
<td headers="mean_exp" class="gt_row gt_right">5730.236</td>
<td headers="se" class="gt_row gt_right">161.3868</td>
<td headers="cv" class="gt_row gt_right">2.816408</td>
<td headers="lower" class="gt_row gt_right">5727.419</td>
<td headers="upper" class="gt_row gt_right">5733.052</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="fam_size_label" class="gt_row gt_right">3</td>
<td headers="agg_exp" class="gt_row gt_right">126230975407</td>
<td headers="mean_exp" class="gt_row gt_right">7191.142</td>
<td headers="se" class="gt_row gt_right">356.6084</td>
<td headers="cv" class="gt_row gt_right">4.958996</td>
<td headers="lower" class="gt_row gt_right">7186.183</td>
<td headers="upper" class="gt_row gt_right">7196.101</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="fam_size_label" class="gt_row gt_right">4</td>
<td headers="agg_exp" class="gt_row gt_right">140899691040</td>
<td headers="mean_exp" class="gt_row gt_right">8990.195</td>
<td headers="se" class="gt_row gt_right">405.0893</td>
<td headers="cv" class="gt_row gt_right">4.505901</td>
<td headers="lower" class="gt_row gt_right">8985.690</td>
<td headers="upper" class="gt_row gt_right">8994.701</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2010</td>
<td headers="fam_size_label" class="gt_row gt_right">5+</td>
<td headers="agg_exp" class="gt_row gt_right">110959256852</td>
<td headers="mean_exp" class="gt_row gt_right">8497.039</td>
<td headers="se" class="gt_row gt_right">541.8115</td>
<td headers="cv" class="gt_row gt_right">6.376474</td>
<td headers="lower" class="gt_row gt_right">8490.663</td>
<td headers="upper" class="gt_row gt_right">8503.416</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="fam_size_label" class="gt_row gt_right">1</td>
<td headers="agg_exp" class="gt_row gt_right">137327788243</td>
<td headers="mean_exp" class="gt_row gt_right">3501.663</td>
<td headers="se" class="gt_row gt_right">177.0925</td>
<td headers="cv" class="gt_row gt_right">5.057383</td>
<td headers="lower" class="gt_row gt_right">3496.606</td>
<td headers="upper" class="gt_row gt_right">3506.720</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="fam_size_label" class="gt_row gt_right">2</td>
<td headers="agg_exp" class="gt_row gt_right">239272323027</td>
<td headers="mean_exp" class="gt_row gt_right">5504.333</td>
<td headers="se" class="gt_row gt_right">251.4419</td>
<td headers="cv" class="gt_row gt_right">4.568072</td>
<td headers="lower" class="gt_row gt_right">5499.765</td>
<td headers="upper" class="gt_row gt_right">5508.901</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="fam_size_label" class="gt_row gt_right">3</td>
<td headers="agg_exp" class="gt_row gt_right">123823857180</td>
<td headers="mean_exp" class="gt_row gt_right">6411.851</td>
<td headers="se" class="gt_row gt_right">439.8623</td>
<td headers="cv" class="gt_row gt_right">6.860145</td>
<td headers="lower" class="gt_row gt_right">6404.990</td>
<td headers="upper" class="gt_row gt_right">6418.711</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="fam_size_label" class="gt_row gt_right">4</td>
<td headers="agg_exp" class="gt_row gt_right">143720599942</td>
<td headers="mean_exp" class="gt_row gt_right">8785.401</td>
<td headers="se" class="gt_row gt_right">599.2455</td>
<td headers="cv" class="gt_row gt_right">6.820923</td>
<td headers="lower" class="gt_row gt_right">8778.580</td>
<td headers="upper" class="gt_row gt_right">8792.222</td>
</tr>
<tr>
<td headers="year" class="gt_row gt_right">2020</td>
<td headers="fam_size_label" class="gt_row gt_right">5+</td>
<td headers="agg_exp" class="gt_row gt_right">103981299154</td>
<td headers="mean_exp" class="gt_row gt_right">7978.497</td>
<td headers="se" class="gt_row gt_right">672.7888</td>
<td headers="cv" class="gt_row gt_right">8.432526</td>
<td headers="lower" class="gt_row gt_right">7970.065</td>
<td headers="upper" class="gt_row gt_right">7986.930</td>
</tr>
</tbody>
</table>
</div>
<p>Plotting these data would be pretty straightforward, as well.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">food_away_means</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">fam_size_label</span>, y <span class="op">=</span> <span class="va">mean_exp</span>, fill <span class="op">=</span> <span class="va">year</span>, group <span class="op">=</span> <span class="va">year</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, position <span class="op">=</span> <span class="st">"dodge"</span>, width <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_errorbar</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">lower</span>, ymax <span class="op">=</span> <span class="va">upper</span><span class="op">)</span>,</span>
<span>    width <span class="op">=</span> <span class="fl">0.4</span>,</span>
<span>    position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_dodge.html" class="external-link">position_dodge</a></span><span class="op">(</span><span class="fl">0.75</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="va"><a href="https://scales.r-lib.org/reference/dollar_format.html" class="external-link">dollar</a></span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span></span>
<span>      <span class="st">"Estimated annual mean food away from home expenditures by CU size"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"CU size"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Estimated, weighted, annual mean expenditure"</span>,</span>
<span>    fill <span class="op">=</span> <span class="st">"Year"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span>, legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span></span></code></pre></div>
<p><img src="inflation-adjusted-estimates_files/figure-html/plot-food-away-1.png" width="768" style="display: block; margin: auto;"></p>
<p>Here we can see that on an inflation-adjusted basis, households of
all sizes had higher expenditures on food away from home in 2010 than
they did in 2020.</p>
<p>Finally, now that the analysis is done, I’ll delete the temporary
directory that contains all the CE data.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/unlink.html" class="external-link">unlink</a></span><span class="op">(</span><span class="va">ce_data_dir</span>, recursive <span class="op">=</span> <span class="cn">TRUE</span>, force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Arcenis Rojas.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
